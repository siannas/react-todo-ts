{"mappings":"ycAAA,IAAAA,EAAAC,EAAA,S,sLAuBe,SAAAC,IAEX,MAAMC,GAAW,EAAAC,EAAAC,eAEXC,GAAS,EAAAC,EAAAC,aAETC,EAAeC,EAAAC,GAAMC,UAEpBC,EAAMC,GAAWJ,EAAAC,GAAMI,SAAmB,CAACC,IAAG,EAAIC,MAAM,GAAIC,WAAW,GAAIC,WAAW,MAEtFC,EAAmBC,IAAsB,EAAAC,EAAAC,YAEzCC,EAAiBC,IAAoB,EAAAH,EAAAC,YAErCG,EAAgBC,IAAmB,EAAAL,EAAAC,YAEnCK,EAAUC,GAAenB,EAAAC,GAAMI,UAAiB,IAEhDe,EAAaC,GAAkBrB,EAAAC,GAAMI,SAAiB,KAEtDiB,EAAWC,GAAgBvB,EAAAC,GAAMI,SAAoBmB,EAAAC,UAAUC,SAE/DC,EAAaC,GAAkB5B,EAAAC,GAAMI,UAAkB,IAEvDwB,EAAeC,GAAoB9B,EAAAC,GAAMI,SAAiB,IAG3D0B,EAAgB/B,EAAAC,GAAMC,OAAyB,OAErD,EAAAD,EAAA+B,YAAU,MACNC,iBAEI,MAAMC,QAAiBC,MAAM,wDAAwDvC,EAAOwC,KAE5F,IAAIC,QAAmBH,EAASI,OAEhCR,EAAiBO,EAAW9B,OAE5BH,EAAQiC,EACZ,CAEAE,EAAA,GACF,IAEF,MAwCMC,EAAiB,CAAClC,EAAWC,KAC/BY,EAAYb,GACZe,EAAed,GACfI,GAAmB,EAAI,EA2BrB8B,EAAUC,IACZ3C,EAAa4C,SAASC,YAAYF,GAElC3B,GAAiB,EAAI,EAGnB8B,EAAWZ,MAAOS,IACpB,MAAMI,EAAiB,CACnBC,OAAQ,QACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUT,IAGnBR,QAAiBC,MAAM,mDAAmDO,EAAMpC,GAAIwC,GAEpFT,QAAmBH,EAASI,OAElC,IAAKJ,EAASkB,GAAI,CAEd,MAAMC,EAAQnB,EAASoB,OACvB,OAAOC,QAAQC,OAAOH,EAC1B,CAEA,IAAII,GAAQ,EAAAC,EAAAC,WAAUxD,EAAKM,YAI3BgD,GAFY,EAAAC,EAAAE,WAAUH,GAAOI,GAAKA,EAAEvD,KAAKoC,EAAMpC,MAElC,CACTA,GAAM+B,EAAW/B,GACjBC,MAAS8B,EAAW9B,MACpBuD,kBAAqBzB,EAAWyB,kBAChCC,UAAa1B,EAAW0B,UACxBC,SAAY3B,EAAW2B,UAG3B5D,EAAQ,CACJE,GAAIH,EAAKG,GACTC,MAAOJ,EAAKI,MACZC,WAAYL,EAAKK,WACjBC,WAAYgD,IAGhB1C,GAAiB,EAAK,EAoE9B,OACA,EAAAzB,EAAA2E,MAAA3E,EAAA4E,SAAA,C,WACI,EAAA5E,EAAA6E,KAACC,EAAAvD,QAAQ,CAAEwD,IAAKtE,EAAcuE,OAAQxD,EAAiByD,QAASxD,EAAkByD,OAAO,YAAYC,SAAU5B,KAC/G,EAAAvD,EAAA6E,KAACO,EAAA7D,QAAI,CAAEyD,OAAQtD,EAAgBuD,QAAStD,EAAiBuD,OAAO,YAAYC,SAnL3DxC,MAAO0C,IACpB,MAAM7B,EAAiB,CACnBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACjBW,kBAAqBlE,EAAOwC,OAAQuC,KAGtCzC,QAAiBC,MAAM,kDAAmDW,GAE1ET,QAAmBH,EAASI,OAElC,IAAKJ,EAASkB,GAAI,CAEd,MAAMC,EAAQnB,EAASoB,OACvB,OAAOC,QAAQC,OAAOH,EAC1B,CAEA,MAAMuB,EAAU,CAAC,CACbtE,GAAM+B,EAAW/B,GACjBC,MAAS8B,EAAW9B,MACpBuD,kBAAqBzB,EAAWyB,kBAChCC,UAAa1B,EAAW0B,UACxBC,SAAY3B,EAAW2B,WACxBa,OAAO1E,EAAKM,YAEfL,EAAQ,CACJE,GAAIH,EAAKG,GACTC,MAAOJ,EAAKI,MACZC,WAAYL,EAAKK,WACjBC,WAAYmE,IAGhB3D,GAAgB,EAAK,KAmJzB,EAAA3B,EAAA6E,KAACW,EAAAjE,QAAU,CACPkE,gBA3IoB,KACpB5D,GAAY,GACZR,GAAmB,GAKnBwB,MAAM,mDAAmDjB,EAHlC,CACnB6B,OAAQ,WAGPiC,MAAK,KAGF,IAAIC,GAAW,EAAAvB,EAAAC,WAAUxD,EAAKM,YAE9BwE,GAAW,EAAAvB,EAAAwB,QAAOD,GAAWpB,GAAMA,EAAEvD,KAAOY,IAE5Cd,EAAQ,CACJE,GAAIH,EAAKG,GACTC,MAAOJ,EAAKI,MACZC,WAAYL,EAAKK,WACjBC,WAAYwE,GAChB,GACJ,EAuHJX,OAAQ5D,EAAmB6D,QAAS5D,EAAqBwE,KAAK,wCAAwCC,SAAUhE,KACpH,EAAA9B,EAAA2E,MAACoB,EAAAxE,QAAK,C,WACF,EAAAvB,EAAA2E,MAAC,OAAIqB,UAAU,c,WACX,EAAAhG,EAAA6E,KAAC,UAAOmB,UAAU,4CAA4C,UAAQ,mBAClEC,QAAS,IAAI9F,GAAS,G,UACtB,EAAAH,EAAA6E,KAAC,QAAKmB,UAAU,YAAYE,MAAO,CAACC,MAAO,OAAOC,OAAQ,YAG1D/D,GACA,EAAArC,EAAA6E,KAAC,SAAME,IAAKtC,EAAeuD,UAAU,sBAAsBK,MAAO9D,EAC9D+D,SAAWC,GAAI/D,EAAiB+D,EAAEC,OAAOH,OACzCI,OArCgB9D,MAAO4D,IACnC,MAAMtF,GAAQ,EAAAmD,EAAAsC,MAAKH,EAAEC,OAAOH,OAE5B/D,GAAe,GAEf,MAAMkB,EAAiB,CACnBC,OAAQ,QACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACjB5C,MAAOA,WAIT4B,MAAM,wDAAwDhC,EAAKG,GAAIwC,GACxEkC,MAAK,KACFiB,QAAQC,IAAI3F,EAAA,GAChB,KAuBI,EAAAjB,EAAA6E,KAAC,MAAGmB,UAAU,aAAa,UAAQ,a,SAAezD,KAEtD,EAAAvC,EAAA6E,KAAC,UAAOmB,UAAU,kDAAkD,UAAQ,yBACxEC,QAjDY,KACpB3D,GAAe,GACfuE,YAAW,KACPpE,EAAcY,SAASyD,OAAA,GACxB,I,YA8CK,EAAA9G,EAAA6E,KAAC,QAAKmB,UAAU,iBAGpB,EAAAhG,EAAA6E,KAACkC,EAAAxF,QAAW,CACR8E,MAAOrE,EACPgE,UAAU,UACVgB,KAAK,SACLV,SA/FYlD,IACpB,GAAGA,IAAUpB,EAAW,OAExB,MAAMiF,EAAQ7D,EAEdnB,EAAagF,GAEb,IAAI9C,GAAQ,EAAAC,EAAAC,WAAUxD,EAAKM,YAE3B,OAAO8F,GAEH,KAAK/E,EAAAC,UAAUC,OACX+B,GAAQ,EAAAC,EAAA8C,SAAQ/C,EAAO,CAAC,MAAO,CAAC,SAChC,MACJ,KAAKjC,EAAAC,UAAUgF,OACXhD,GAAQ,EAAAC,EAAA8C,SAAQ/C,EAAO,CAAC,MAAO,CAAC,QAChC,MACJ,KAAKjC,EAAAC,UAAUiF,GACXjD,GAAQ,EAAAC,EAAA8C,SAAQ/C,EAAO,CAAC,SAAU,CAAC,QACnC,MACJ,KAAKjC,EAAAC,UAAUkF,GACXlD,GAAQ,EAAAC,EAAA8C,SAAQ/C,EAAO,CAAC,SAAU,CAAC,SACnC,MACJ,KAAKjC,EAAAC,UAAUmF,WACXnD,GAAQ,EAAAC,EAAA8C,SAAQ/C,EAAO,CAAC,MAAO,CAAC,SAChC,MACJ,QACI,OAGRrD,EAAQ,CACJE,GAAIH,EAAKG,GACTC,MAAOJ,EAAKI,MACZC,WAAYL,EAAKK,WACjBC,WAAYgD,GAChB,EA6DQoD,QAAS,CACL,CACIC,IAAK,SACLnB,OAAO,EAAArG,EAAA2E,MAAA3E,EAAA4E,SAAA,C,WAAE,EAAA5E,EAAA6E,KAAC,QAAKmB,UAAU,iCAAgC,aACzDd,OAAQ,eAEZ,CACIsC,IAAK,SACLnB,OAAO,EAAArG,EAAA2E,MAAA3E,EAAA4E,SAAA,C,WAAE,EAAA5E,EAAA6E,KAAC,QAAKmB,UAAU,iCAAgC,aACzDd,OAAQ,eAEZ,CACIsC,IAAK,KACLnB,OAAO,EAAArG,EAAA2E,MAAA3E,EAAA4E,SAAA,C,WAAE,EAAA5E,EAAA6E,KAAC,QAAKmB,UAAU,6BAA4B,SACrDd,OAAQ,WAEZ,CACIsC,IAAK,KACLnB,OAAO,EAAArG,EAAA2E,MAAA3E,EAAA4E,SAAA,C,WAAE,EAAA5E,EAAA6E,KAAC,QAAKmB,UAAU,6BAA4B,SACrDd,OAAQ,WAEZ,CACIsC,IAAK,aACLnB,OAAO,EAAArG,EAAA2E,MAAA3E,EAAA4E,SAAA,C,WAAE,EAAA5E,EAAA6E,KAAC,QAAKmB,UAAU,qCAAoC,mBAC7Dd,OAAQ,uBAIpB,EAAAlF,EAAA6E,KAAC4C,EAAAlG,QAAK,CAAEyE,UAAU,cAAcH,KAAK,SAASX,OAAO,kBAAkBe,QA/OxD,KACnBtE,GAAgB,EAAI,EA8OgF+F,KAAK,kBAEzG,EAAA1H,EAAA6E,KAAC,OAAImB,UAAU,mB,SAEmB,GAA1BnF,EAAKM,WAAWwG,QAChB,EAAA3H,EAAA6E,KAAC,OAAImB,UAAU,mBAAmB,UAAQ,mB,UACtC,EAAAhG,EAAA6E,KAAC,OAAI+C,IAAKlH,EAAAmH,GAAYC,IAAI,YAG9BjH,EAAKM,WAAW4G,KAAIxD,GACfrC,EAAAC,UAAUmF,aAAetF,GAA6B,IAAhBuC,EAAEE,UACzC,IAEA,EAAAzE,EAAA6E,KAACmD,EAAAzG,QAAO,CAEJuB,IAAKyB,EAAEvD,GACPC,MAAOsD,EAAEtD,MACTwD,UAAWF,EAAEE,UACbC,SAAUH,EAAEG,SACZuD,WAAY9E,EACZ+E,aAAc3E,EACdL,eAAgBA,GAPXqB,EAAEvD,aAc/B,C,sCC9UAmH,EAAAC,QAAiB,IAAAC,IAAoBpI,EAAA,SAAAqI,QAA6C,SAAAC,OAAAC,KAAAC,KAAUC,U,qECA5F,IAAA1I,EAAAC,EAAA,S,4BAIe,SAAA0I,GAAkB7F,IAACA,EAAG7B,MAAEA,EAAKiC,eAAEA,EAAcwB,SAAEA,EAAQD,UAAEA,EAASwD,WAAEA,EAAUC,aAAEA,IAmB/F,OACI,EAAAlI,EAAA2E,MAAC,OAAIqB,UAAU,YAAY,UAAQ,Y,WAC/B,EAAAhG,EAAA6E,KAAC,SAAMmB,UAAU,qBAAqB,UAAQ,qBAAqBgB,KAAK,WAAW4B,QAAoB,GAAXnE,EACxF6B,SAAWC,IACP2B,EAAa,CACTzD,UAAW8B,EAAEC,OAAOoC,QAAU,EAAI,EAClC5H,GAAI8B,EACJ7B,MAAMA,EACNyD,SAASA,GACb,KAER,EAAA1E,EAAA6E,KAAC,QAAKmB,UAAW,gCA5BI,MACrB,OAAQtB,GACJ,IAAK,YACD,MAAO,SACX,IAAK,OACD,MAAO,YACX,IAAK,SACD,MAAO,WACX,IAAK,MACD,MAAO,UACX,IAAK,WACD,MAAO,YACX,QACI,MAAO,GACf,EAciDmE,GAAoB,UAAQ,kCAC7E,EAAA7I,EAAA6E,KAAC,MAAGmB,UAAU,kBAAkB,UAAQ,kB,SACvC/E,KAED,EAAAjB,EAAA6E,KAACiE,EAAAvH,QAAK,CAAEyE,UAAU,6CAA6CH,KAAK,GAAGX,OAAO,wBAAwBwC,KAAK,YACvGzB,QAAS,IAAMgC,EAAW,CACtBxD,UAAUA,EACVzD,GAAI8B,EACJ7B,MAAMA,EACNyD,SAASA,OAEjB,EAAA1E,EAAA6E,KAACiE,EAAAvH,QAAK,CAAEyE,UAAU,uDAAuDH,KAAK,GAAGX,OAAO,0BAA0BwC,KAAK,cACnHzB,QAAS,IAAI/C,EAAeJ,EAAK7B,OAG7C,C,qECjDA,IAAAjB,EAAAC,EAAA,SAWe,SAAA8I,GAAgB/C,UAACA,EAASH,KAAEA,EAAIX,OAAEA,EAAMwC,KAAEA,EAAIzB,QAAEA,EAAO+C,WAAEA,IAExE,OACI,EAAAhJ,EAAA2E,MAAC,UAAOqB,UAAW,OAAOA,EAAU,KAAKgD,EAAa,WAAa,IAAO,UAAS9D,EAAQe,QAASA,E,UAC/FyB,GAAO,EAAA1H,EAAA6E,KAAC,QAAKmB,UAAW0B,IAAgB,GACxC7B,IAGT,C,+ECnBA,IAAA7F,EAAAC,EAAA,S,oDAQe,SAAAgJ,GAAejD,UAACA,EAASd,OAAEA,EAAMF,OAAEA,EAAMC,QAAEA,EAAOE,SAAEA,IAEnE,MAAO6D,EAAYE,GAAiBxI,EAAAC,GAAMI,UAAkB,IAErDoI,EAAUC,GAAe1I,EAAAC,GAAMI,SAAyB,CAC3DE,MAAM,GACNyD,SAAS,cAmCb,OACI,EAAA1E,EAAA6E,KAAC,OAAImB,UAAW,mBAAmBA,EAAU,KAAKhB,EAAS,SAAW,I,UAClE,EAAAhF,EAAA2E,MAAC,OAAIqB,UAAW,kBAAmB,UAASd,E,WACxC,EAAAlF,EAAA2E,MAAC,OAAIqB,UAAU,e,WACX,EAAAhG,EAAA6E,KAAC,MAAGmB,UAAU,kBAAkB,UAAQ,kB,SAAkB,sBAC1D,EAAAhG,EAAA6E,KAAC4C,EAAAlG,QAAK,CAAEyE,UAAU,sDAAsDH,KAAK,GAAGX,OAAO,yBAAyBwC,KAAK,aACjHzB,QAAS,IAAIhB,GAAQ,SAE7B,EAAAjF,EAAA2E,MAAC,OAAIqB,UAAU,a,WACX,EAAAhG,EAAA2E,MAAC,OAAIqB,UAAU,c,WACX,EAAAhG,EAAA6E,KAAC,SAAMmB,UAAU,oBACb,UAAQ,sB,SAAsB,oBAClC,EAAAhG,EAAA6E,KAAC,SAAMmB,UAAU,oBAAoBgB,KAAK,OACtCqC,YAAY,0BACZnD,MAAO,CAACC,MAAO,qBACfE,MAAO8C,EAASlI,MAChBqF,SAhDIC,IACxB,MAAM+C,GAAW,EAAAlF,EAAAmF,WAAUhD,EAAEC,OAAOH,OACpCE,EAAEC,OAAOH,MAAQiD,EACCJ,EAAJ,KAAXI,GAGHF,EAAY,CACRnI,MAAOqI,EACP5E,SAAUyE,EAASzE,UACvB,EAwCoB,UAAQ,6BAGhB,EAAA1E,EAAA2E,MAAC,OAAIqB,UAAU,c,WACX,EAAAhG,EAAA6E,KAAC,SAAMmB,UAAU,oBACb,UAAQ,2B,SAA4B,cACxC,EAAAhG,EAAA6E,KAACkC,EAAAxF,QAAW,CACR8E,MAAO8C,EAASzE,SAChB4B,SA7COD,IAC3B+C,EAAY,CACRnI,MAAOkI,EAASlI,MAChByD,SAAU2B,GACd,EA0CoBnB,OAAO,8BACP8B,KAAK,SACLwC,UAAW,IACXjC,QAAS,CACL,CACIC,IAAK,YACLnB,OAAO,EAAArG,EAAA2E,MAAA3E,EAAA4E,SAAA,C,WAAE,EAAA5E,EAAA6E,KAAC,QAAK,UAAQ,0BAA0BmB,UAAU,8BAA6B,gBAE5F,CACIwB,IAAK,OACLnB,OAAO,EAAArG,EAAA2E,MAAA3E,EAAA4E,SAAA,C,WAAE,EAAA5E,EAAA6E,KAAC,QAAK,UAAQ,0BAA0BmB,UAAU,iCAAgC,WAE/F,CACIwB,IAAK,SACLnB,OAAO,EAAArG,EAAA2E,MAAA3E,EAAA4E,SAAA,C,WAAE,EAAA5E,EAAA6E,KAAC,QAAK,UAAQ,0BAA0BmB,UAAU,gCAA+B,aAE9F,CACIwB,IAAK,MACLnB,OAAO,EAAArG,EAAA2E,MAAA3E,EAAA4E,SAAA,C,WAAE,EAAA5E,EAAA6E,KAAC,QAAK,UAAQ,0BAA0BmB,UAAU,+BAA8B,UAE7F,CACIwB,IAAK,WACLnB,OAAO,EAAArG,EAAA2E,MAAA3E,EAAA4E,SAAA,C,WAAE,EAAA5E,EAAA6E,KAAC,QAAK,UAAQ,0BAA0BmB,UAAU,iCAAgC,yBAM/G,EAAAhG,EAAA6E,KAAC,OAAImB,UAAU,e,UACX,EAAAhG,EAAA6E,KAAC4C,EAAAlG,QAAK,CAAEyE,UAAU,4CAA4CH,KAAK,SAASX,OAAO,wBAC/Ee,QArEI,KACpBd,EAAS,CACLlE,OAAO,EAAAmD,EAAAsC,MAAKyC,EAASlI,OACrByD,SAAUyE,EAASzE,WAIvB0E,EAAY,CACRnI,MAAM,GACNyD,SAAS,aACb,EA4DgBsE,WAAYA,UAMhC,C,qEChHA,IAAAhJ,EAAAC,EAAA,S,uCAiBe,SAAAwJ,EAAsBC,GAErC,MAAM3E,EAAMrE,EAAAC,GAAMgJ,aAEX7C,EAAO8C,GAAYlJ,EAAAC,GAAMI,UAAkB,IAE3C8I,EAAUC,GAAepJ,EAAAC,GAAMI,SAAiB,IAEvD,EAAAJ,EAAA+B,YAAU,KACN,GAAIgH,EAAMrD,MAKV,CACI,MAAM0D,GAAM,EAAA3F,EAAAE,WAAUoF,EAAMnC,SAAShD,GAAKA,EAAEiD,KAAOkC,EAAMrD,QACzDyD,EAAYC,EAChB,MANIL,EAAMrD,MAAQqD,EAAMnC,QAAQsC,GAAUrC,GAM1C,GAEF,CAACkC,EAAMrD,QAET,MAAM2D,EAAc,KACblD,EAAO/B,EAAI1B,SAAS4G,OAClBlF,EAAI1B,SAASyD,OAAA,EAQhBoD,EAASR,EAAMF,UAAYE,EAAMF,UAAY,IAEnD,OACA,EAAAxJ,EAAA2E,MAAC,OAAIqB,UAAW,gCAAgC0D,EAAM1C,KAAK,IAAI0C,EAAM1D,U,UAE9C,WAAf0D,EAAM1C,MACN,EAAAhH,EAAA6E,KAAC4C,EAAAlG,QAAK,CAAEyE,UAAU,0DAA0DH,KAAK,GAAGX,OAAO,mBAAmBwC,KAAK,YAC/GzB,QAAS+D,KAGb,EAAAhK,EAAA6E,KAAC,OAAImB,UAAU,uBAAuBE,MAAO,CAACC,MAAO+D,GACjDjE,QAAS+D,EACT,UAASN,EAAMxE,O,SAEdwE,EAAMnC,QAAQsC,GAAUxD,SAGjC,EAAArG,EAAA6E,KAAC,UAAOE,IAAKA,EAAKiB,UAAU,gBACxBmE,QAAS,IAAIP,GAAS,GACtBnD,OAAQ,KACJI,YAAW,KACP+C,GAAS,EAAK,GACf,M,SAGNF,EAAMnC,QAAQQ,KAAIxD,IAAK,EAAAvE,EAAA6E,KAAC,UAAmBwB,MAAO9B,EAAEiD,KAAhBjD,EAAEiD,UAE3C,EAAAxH,EAAA6E,KAAC,MAAGmB,UAAW,qBACIc,EAAQ,UAAU,IAEjCZ,MAAO,CAACC,MAAM+D,G,SAEbR,EAAMnC,QAAQQ,KAAI,CAACxD,EAAG6F,KACnB,EAAApK,EAAA6E,KAAC,MAAGmB,UAAW0D,EAAOrD,OAAO9B,EAAEiD,IAAO,WAAa,GAC/CvB,QAAS,KAAIoE,OAtCzBP,EADcQ,EAuCoBF,QArClCV,EAAMpD,SAASoD,EAAMnC,QAAQ+C,GAAO9C,KAFvB,IAAC8C,CAuCoB,EAEtB,UAAS/F,EAAEW,O,SACTX,EAAE8B,OAFC9B,EAAEiD,WAMvB,C,qECzFA,IAAAxH,EAAAC,EAAA,S,wDAmIAsK,EA3HkB7J,EAAAC,GAAM6J,YAAY,EAACxE,UAACA,EAASd,OAAEA,EAAMF,OAAEA,EAAMC,QAAEA,EAAOE,SAAEA,GAA0FJ,KAEpK,MAAOiE,EAAYE,GAAiBxI,EAAAC,GAAMI,UAAkB,IAErDoI,EAAUC,GAAe1I,EAAAC,GAAMI,SAAuB,CACzDC,IAAI,EACJyD,UAAW,EACXxD,MAAM,GACNyD,SAAS,cAGbhE,EAAAC,GAAM8J,oBAAoB1F,GAAK,KAAO,CAClCzB,YAAYF,GACRgG,EAAYhG,GACO,KAAhBA,EAAMnC,MAAciI,GAAc,GAChCA,GAAc,EACvB,MA0CJ,OACI,EAAAlJ,EAAA6E,KAAC,OAAImB,UAAW,mBAAmBA,EAAU,KAAKhB,EAAS,SAAW,I,UAClE,EAAAhF,EAAA2E,MAAC,OAAIqB,UAAW,kBAAmB,UAASd,E,WACxC,EAAAlF,EAAA2E,MAAC,OAAIqB,UAAU,e,WACX,EAAAhG,EAAA6E,KAAC,MAAGmB,UAAU,kBAAkB,UAAQ,kB,SAAkB,sBAC1D,EAAAhG,EAAA6E,KAAC4C,EAAAlG,QAAK,CAAEyE,UAAU,sDAAsDH,KAAK,GAAGX,OAAO,yBAAyBwC,KAAK,aACjHzB,QAAS,IAAIhB,GAAQ,SAE7B,EAAAjF,EAAA2E,MAAC,OAAIqB,UAAU,a,WACX,EAAAhG,EAAA2E,MAAC,OAAIqB,UAAU,c,WACX,EAAAhG,EAAA6E,KAAC,SAAMmB,UAAU,oBACb,UAAQ,sB,SAAsB,oBAClC,EAAAhG,EAAA6E,KAAC,SAAMmB,UAAU,oBAAoBgB,KAAK,OACtCqC,YAAY,0BACZnD,MAAO,CAACC,MAAO,qBACfE,MAAO8C,EAASlI,MAChBqF,SAvDIC,IACxB,MAAM+C,GAAW,EAAAlF,EAAAmF,WAAUhD,EAAEC,OAAOH,OACpCE,EAAEC,OAAOH,MAAQiD,EACCJ,EAAJ,KAAXI,GAGHF,EAAY,CACRpI,GAAImI,EAASnI,GACbyD,UAAW0E,EAAS1E,UACpBxD,MAAOqI,EACP5E,SAAUyE,EAASzE,UACvB,EA6CoB,UAAQ,6BAGhB,EAAA1E,EAAA2E,MAAC,OAAIqB,UAAU,c,WACX,EAAAhG,EAAA6E,KAAC,SAAMmB,UAAU,oBACb,UAAQ,2B,SAA2B,cACvC,EAAAhG,EAAA6E,KAACkC,EAAAxF,QAAW,CACR8E,MAAO8C,EAASzE,SAChB4B,SAlDOD,IAC3B+C,EAAY,CACRpI,GAAImI,EAASnI,GACbyD,UAAW0E,EAAS1E,UACpBxD,MAAOkI,EAASlI,MAChByD,SAAU2B,GACd,EA6CoBnB,OAAO,8BACP8B,KAAK,SACLwC,UAAW,IACXjC,QAAS,CACL,CACIC,IAAK,YACLnB,OAAO,EAAArG,EAAA2E,MAAA3E,EAAA4E,SAAA,C,WAAE,EAAA5E,EAAA6E,KAAC,QAAKmB,UAAU,8BAA6B,gBAE1D,CACIwB,IAAK,OACLnB,OAAO,EAAArG,EAAA2E,MAAA3E,EAAA4E,SAAA,C,WAAE,EAAA5E,EAAA6E,KAAC,QAAKmB,UAAU,iCAAgC,WAE7D,CACIwB,IAAK,SACLnB,OAAO,EAAArG,EAAA2E,MAAA3E,EAAA4E,SAAA,C,WAAE,EAAA5E,EAAA6E,KAAC,QAAKmB,UAAU,gCAA+B,aAE5D,CACIwB,IAAK,MACLnB,OAAO,EAAArG,EAAA2E,MAAA3E,EAAA4E,SAAA,C,WAAE,EAAA5E,EAAA6E,KAAC,QAAKmB,UAAU,+BAA8B,UAE3D,CACIwB,IAAK,WACLnB,OAAO,EAAArG,EAAA2E,MAAA3E,EAAA4E,SAAA,C,WAAE,EAAA5E,EAAA6E,KAAC,QAAKmB,UAAU,iCAAgC,yBAM7E,EAAAhG,EAAA6E,KAAC,OAAImB,UAAU,e,UACX,EAAAhG,EAAA6E,KAAC4C,EAAAlG,QAAK,CAAEyE,UAAU,4CAA4CH,KAAK,SAASX,OAAO,wBAC/Ee,QAxEI,KACpBd,EAAS,CACLnE,GAAImI,EAASnI,GACbC,OAAO,EAAAmD,EAAAsC,MAAKyC,EAASlI,OACrByD,SAAUyE,EAASzE,WAIvB0E,EAAY,CACRpI,GAAImI,EAASnI,GACbyD,UAAW0E,EAAS1E,UACpBxD,MAAM,GACNyD,SAAS,aACb,EA4DgBsE,WAAYA,U,yCC3HhC,IAoBO0B,E,IAAKvI,E,kCAAAA,EAAAuI,MAAA,KACR,OAAS,SADDvI,EAER,OAAS,SAFDA,EAGR,GAAK,KAHGA,EAIR,GAAK,KAJGA,EAKR,WAAa,Y","sources":["src/Page/Activity.tsx","node_modules/@parcel/runtime-js/lib/runtime-75278bc260c1e4f5.js","src/Component/todoitem.tsx","src/Component/button.tsx","src/Component/modal-add.tsx","src/Component/custom-select.tsx","src/Component/modal-edit.tsx","src/util/types.d.ts"],"sourcesContent":["import React, { useEffect } from \"react\"\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport { remove, cloneDeep, trim, findIndex, orderBy } from \"lodash\"\r\nimport Button from \"../Component/Button\"\r\nimport Layout from \"../Layout\"\r\nimport emptyImage from \"../images/empty-item.png\"\r\nimport TodoItem from \"../Component/todoitem\"\r\nimport Modal from \"../Component/modal-add\"\r\nimport ModalEdit from \"../Component/modal-edit\"\r\nimport CustomSelect from \"../Component/custom-select\"\r\n\r\nimport ModalDelete from \"../Component/modal-delete\"\r\nimport UseModal from \"../util/UseModal\"\r\n\r\nimport { TodoDataTambah, ToDoItem, TodoDataEdit, SortOrder } from \"../util/types.d\"\r\n\r\ninterface DataTodo {\r\n    id: number,\r\n    title: string,\r\n    created_at: string,\r\n    todo_items: ToDoItem[]\r\n}\r\n\r\nexport default function Activity() {\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const params = useParams()\r\n\r\n    const ModalEditRef = React.useRef();\r\n\r\n    const [data, setData] = React.useState<DataTodo>({id:-1, title:'', created_at:'', todo_items:[]});\r\n\r\n    const [isShowDeleteModal, setShowDeleteModal] = UseModal()\r\n\r\n    const [isShowEditModal, setShowEditModal] = UseModal()\r\n\r\n    const [isShowAddModal, setShowAddModal] = UseModal()\r\n\r\n    const [idDelete, setIdDelete] = React.useState<number>(-1)\r\n\r\n    const [titleDelete, setTitleDelete] = React.useState<string>('')\r\n\r\n    const [sortOrder, setSortOrder] = React.useState<SortOrder>(SortOrder.LATEST)\r\n\r\n    const [isEditTitle, setIsEditTitle] = React.useState<boolean>(false)\r\n\r\n    const [activityTitle, setActivityTitle] = React.useState<string>('')\r\n\r\n    // const titleInputRef = React.createRef<HTMLInputElement>()\r\n    const titleInputRef = React.useRef<HTMLInputElement>(null)\r\n\r\n    useEffect(()=> {\r\n        async function getData() \r\n        {\r\n            const response = await fetch('https://todo.api.devcode.gethired.id/activity-groups/'+params.uid)\r\n\r\n            let actualData = await response.json();\r\n\r\n            setActivityTitle(actualData.title)\r\n\r\n            setData(actualData)\r\n        }\r\n\r\n        getData()\r\n    },[])\r\n\r\n    const OnBeforeTambah = () => {\r\n        setShowAddModal(true)\r\n    }\r\n\r\n    const OnTambah = async (jsonData: TodoDataTambah) => {\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                \"activity_group_id\": params.uid, ...jsonData\r\n            })\r\n        };\r\n        const response = await fetch('https://todo.api.devcode.gethired.id/todo-items', requestOptions);\r\n\r\n        const actualData = await response.json();\r\n\r\n        if (!response.ok) {\r\n            // get error message from body or default to response status\r\n            const error = response.status;\r\n            return Promise.reject(error);\r\n        }\r\n\r\n        const newItem = [{\r\n            \"id\": actualData.id,\r\n            \"title\": actualData.title,\r\n            \"activity_group_id\": actualData.activity_group_id,\r\n            \"is_active\": actualData.is_active,\r\n            \"priority\": actualData.priority,\r\n        }].concat(data.todo_items) \r\n\r\n        setData({\r\n            id: data.id,\r\n            title: data.title,\r\n            created_at: data.created_at,\r\n            todo_items: newItem\r\n        }) \r\n\r\n        setShowAddModal(false)\r\n    }\r\n\r\n    const OnBeforeDelete = (id:number, title:string) => {\r\n        setIdDelete(id)\r\n        setTitleDelete(title)\r\n        setShowDeleteModal(true)\r\n    }\r\n\r\n    const OnDeleteConfirm = () => {\r\n        setIdDelete(-1)\r\n        setShowDeleteModal(false)\r\n\r\n        const requestOptions = {\r\n            method: 'DELETE',\r\n        };\r\n        fetch('https://todo.api.devcode.gethired.id/todo-items/'+idDelete, requestOptions)\r\n            .then(()=>{\r\n\r\n                /// Delete it\r\n                var newTodos = cloneDeep(data.todo_items)\r\n\r\n                newTodos = remove(newTodos, (x) => x.id !== idDelete)\r\n\r\n                setData({\r\n                    id: data.id,\r\n                    title: data.title,\r\n                    created_at: data.created_at,\r\n                    todo_items: newTodos\r\n                }) \r\n            })\r\n    }\r\n\r\n    const OnEdit = (param: TodoDataEdit) => {\r\n        ModalEditRef.current?.ResetFields(param)\r\n\r\n        setShowEditModal(true)\r\n    }\r\n\r\n    const OnUpdate = async (param: TodoDataEdit) => {\r\n        const requestOptions = {\r\n            method: 'PATCH',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(param)\r\n        };\r\n        \r\n        const response = await fetch('https://todo.api.devcode.gethired.id/todo-items/'+param.id, requestOptions);\r\n\r\n        const actualData = await response.json();\r\n\r\n        if (!response.ok) {\r\n            // get error message from body or default to response status\r\n            const error = response.status;\r\n            return Promise.reject(error);\r\n        }\r\n\r\n        var todos = cloneDeep(data.todo_items)\r\n\r\n        const idx = findIndex(todos, x => x.id===param.id)\r\n\r\n        todos[idx] = {\r\n            \"id\": actualData.id,\r\n            \"title\": actualData.title,\r\n            \"activity_group_id\": actualData.activity_group_id,\r\n            \"is_active\": actualData.is_active,\r\n            \"priority\": actualData.priority,\r\n        }\r\n\r\n        setData({\r\n            id: data.id,\r\n            title: data.title,\r\n            created_at: data.created_at,\r\n            todo_items: todos\r\n        }) \r\n\r\n        setShowEditModal(false)\r\n    }\r\n\r\n    const OnSetSortOrder = (param:string) => {\r\n        if(param === sortOrder) return\r\n\r\n        const order = param as SortOrder\r\n\r\n        setSortOrder(order)\r\n\r\n        var todos = cloneDeep(data.todo_items)\r\n\r\n        switch(order)\r\n        {\r\n            case SortOrder.LATEST:\r\n                todos = orderBy(todos, ['id'], ['desc'])\r\n                break;\r\n            case SortOrder.OLDEST:\r\n                todos = orderBy(todos, ['id'], ['asc'])\r\n                break;\r\n            case SortOrder.AZ:\r\n                todos = orderBy(todos, ['title'], ['asc'])\r\n                break;\r\n            case SortOrder.ZA:\r\n                todos = orderBy(todos, ['title'], ['desc'])\r\n                break;\r\n            case SortOrder.UNFINISHED:\r\n                todos = orderBy(todos, ['id'], ['desc'])\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n\r\n        setData({\r\n            id: data.id,\r\n            title: data.title,\r\n            created_at: data.created_at,\r\n            todo_items: todos\r\n        }) \r\n    }\r\n\r\n    const ToggleEditTitle = () => {\r\n        setIsEditTitle(true)\r\n        setTimeout(()=>{\r\n            titleInputRef.current?.focus()\r\n        }, 100) /// Delay to let React render it first\r\n    }\r\n\r\n    const OnBlurEditActivityTitle = async (e) => {\r\n        const title = trim(e.target.value)\r\n\r\n        setIsEditTitle(false)\r\n\r\n        const requestOptions = {\r\n            method: 'PATCH',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                title: title\r\n            })\r\n        };\r\n        \r\n        await fetch('https://todo.api.devcode.gethired.id/activity-groups/'+data.id, requestOptions)\r\n            .then(()=>{\r\n                console.log(title)\r\n            })\r\n    }\r\n    \r\n\r\nreturn(\r\n<>\r\n    <ModalEdit ref={ModalEditRef} isShow={isShowEditModal} setShow={setShowEditModal} dataCy=\"modal-add\" OnSubmit={OnUpdate} />\r\n    <Modal isShow={isShowAddModal} setShow={setShowAddModal} dataCy=\"modal-add\" OnSubmit={OnTambah} />\r\n    <ModalDelete \r\n        OnDeleteConfirm={OnDeleteConfirm} \r\n        isShow={isShowDeleteModal} setShow={setShowDeleteModal}  text=\"Apakah anda yakin menghapus List Item\" itemname={titleDelete} />\r\n    <Layout>\r\n        <div className=\"todo-header\">\r\n            <button className='btn btn-light btn-simple todo-back-button' data-cy='todo-back-button'\r\n                onClick={()=>navigate(-1)}>\r\n                <span className='icon-back' style={{width: '32px',height: '32px'}}></span>\r\n            </button>\r\n            {\r\n                isEditTitle ? \r\n                <input ref={titleInputRef} className=\"activity-title-edit\" value={activityTitle} \r\n                    onChange={(e)=>setActivityTitle(e.target.value)}\r\n                    onBlur={OnBlurEditActivityTitle} />\r\n                :\r\n                <h1 className=\"todo-title\" data-cy=\"todo-title\" >{activityTitle}</h1>\r\n            }\r\n            <button className='btn btn-light btn-simple todo-title-edit-button' data-cy='todo-title-edit-button'\r\n                onClick={ToggleEditTitle}>\r\n                <span className='icon-edit'></span>\r\n            </button>\r\n            {/* <Button className=\"ml-auto btn-alternative btn-circle activity-sort-button\" text='' dataCy='activity-sort-button' icon='icon-sort' /> */}\r\n            <CustomSelect\r\n                value={sortOrder}\r\n                className='ml-auto'\r\n                type=\"button\"\r\n                onChange={OnSetSortOrder}\r\n                options={[\r\n                    {\r\n                        key: 'latest',\r\n                        value: <><span className='icon-sort-newest wh-18 mr-15'/>Terbaru</>,\r\n                        dataCy: 'sort-latest'\r\n                    },\r\n                    {\r\n                        key: 'oldest',\r\n                        value: <><span className='icon-sort-oldest wh-18 mr-15'/>Terlama</>,\r\n                        dataCy: 'sort-oldest'\r\n                    },\r\n                    {\r\n                        key: 'az',\r\n                        value: <><span className='icon-sort-az wh-18 mr-15'/>A-Z</>,\r\n                        dataCy: 'sort-az'\r\n                    },\r\n                    {\r\n                        key: 'za',\r\n                        value: <><span className='icon-sort-za wh-18 mr-15'/>Z-A</>,\r\n                        dataCy: 'sort-za'\r\n                    },\r\n                    {\r\n                        key: 'unfinished',\r\n                        value: <><span className='icon-sort-unfinished wh-18 mr-15'/>Belum Selesai</>,\r\n                        dataCy: 'sort-unfinished'\r\n                    }\r\n                ]}\r\n            />\r\n            <Button className=\"btn-primary\" text='Tambah' dataCy='todo-add-button' onClick={OnBeforeTambah} icon=\"icon-plus\" />\r\n        </div>\r\n        <div className=\"activity-content\">\r\n            {\r\n                data.todo_items.length == 0 ?\r\n                <div className=\"todo-empty-state\" data-cy=\"todo-empty-state\">\r\n                    <img src={emptyImage} alt=\"empty\" />    \r\n                </div>\r\n                :\r\n                data.todo_items.map(x => \r\n                    (SortOrder.UNFINISHED === sortOrder && x.is_active === 0) ?\r\n                    ''\r\n                    :\r\n                    <TodoItem \r\n                        key={x.id} \r\n                        uid={x.id}\r\n                        title={x.title}\r\n                        is_active={x.is_active}\r\n                        priority={x.priority}\r\n                        toggleEdit={OnEdit}\r\n                        toggleUpdate={OnUpdate}\r\n                        OnBeforeDelete={OnBeforeDelete} />\r\n                )\r\n            }\r\n        </div>\r\n    </Layout>\r\n</>\r\n)\r\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9XZxD\")).toString();","import React from 'react'\r\nimport Button from './button'\r\nimport './todoitem.css'\r\n\r\nexport default function TodoItem({uid, title, OnBeforeDelete, priority, is_active, toggleEdit, toggleUpdate}:{uid:number, title:string, OnBeforeDelete:any, priority:string, is_active:number, toggleEdit?:any, toggleUpdate?:any}) {\r\n\r\n    const GetPriorityClass = () => {\r\n        switch (priority) {\r\n            case 'very-high':\r\n                return 'bg-red'\r\n            case 'high':\r\n                return 'bg-yellow'\r\n            case 'normal':\r\n                return 'bg-green'\r\n            case 'low':\r\n                return 'bg-cyan'\r\n            case 'very-low':\r\n                return 'bg-purple'\r\n            default:\r\n                return ''\r\n        }\r\n    }\r\n\r\nreturn (\r\n    <div className='todo-item' data-cy='todo-item' >\r\n        <input className='todo-item-checkbox' data-cy='todo-item-checkbox' type='checkbox' checked={is_active==0} \r\n            onChange={(e)=>{\r\n                toggleUpdate({\r\n                    is_active: e.target.checked ? 0 : 1,\r\n                    id: uid,\r\n                    title:title,\r\n                    priority:priority\r\n                })\r\n            }}/>\r\n        <span className={'todo-item-priority-indicator '+GetPriorityClass()} data-cy='todo-item-priority-indicator' />\r\n        <h2 className='todo-item-title' data-cy='todo-item-title'>\r\n        {title}\r\n        </h2>\r\n        <Button className=\"btn-light btn-simple todo-item-edit-button\" text='' dataCy='todo-item-edit-button' icon='icon-edit'\r\n            onClick={() => toggleEdit({\r\n                is_active:is_active,\r\n                id: uid,\r\n                title:title,\r\n                priority:priority\r\n            })} />\r\n        <Button className=\"ml-auto btn-light btn-simple todo-item-delete-button\" text='' dataCy='todo-item-delete-button' icon='icon-delete'\r\n            onClick={()=>OnBeforeDelete(uid, title)} />\r\n    </div>\r\n)\r\n}","import React from 'react'\r\n\r\ninterface ButtonProp {\r\n    className:string, \r\n    text:string, \r\n    dataCy:string, \r\n    icon?:string,\r\n    onClick?:any,\r\n    isDisabled?:boolean\r\n}\r\n\r\nexport default function Button({className, text, dataCy, icon, onClick, isDisabled}:ButtonProp) {\r\n    \r\nreturn (\r\n    <button className={'btn '+className+\" \"+(isDisabled ? 'disabled' : ''  )} data-cy={dataCy} onClick={onClick} >\r\n        {icon ? <span className={icon}></span> : ''}\r\n        {text}\r\n    </button>\r\n)\r\n}","import React from \"react\"\r\nimport Button from \"./Button\"\r\nimport \"./modal-add.css\"\r\nimport CustomSelect from \"./custom-select\"\r\nimport { trim, trimStart } from \"lodash\"\r\n\r\nimport {TodoDataTambah} from \"../util/types\"\r\n\r\nexport default function Modal({className, dataCy, isShow, setShow, OnSubmit}:{className?:string, dataCy:string, isShow:boolean, setShow?:any, OnSubmit:any}) {\r\n\r\nconst [isDisabled, setIsDisabled] = React.useState<boolean>(true)\r\n\r\nconst [formdata, setFormdata] = React.useState<TodoDataTambah>({\r\n    title:'',\r\n    priority:'very-high'\r\n})\r\n\r\nconst OnTitleFieldChange = (e:any) => {\r\n    const newvalue = trimStart(e.target.value)\r\n    e.target.value = newvalue\r\n    if(newvalue==='') setIsDisabled(true)\r\n    else setIsDisabled(false)\r\n\r\n    setFormdata({\r\n        title: newvalue,\r\n        priority: formdata.priority\r\n    })\r\n}\r\n\r\nconst OnPriorityFieldChange = (value:string) => {\r\n    setFormdata({\r\n        title: formdata.title,\r\n        priority: value\r\n    })\r\n}\r\n\r\nconst OnSimpanConfirm = () => {\r\n    OnSubmit({\r\n        title: trim(formdata.title),\r\n        priority: formdata.priority\r\n    })\r\n\r\n    /// Reset Value\r\n    setFormdata({\r\n        title:'',\r\n        priority:'very-high'\r\n    })\r\n}\r\n\r\nreturn (\r\n    <div className={\"modal-container \"+className+\" \"+(isShow ? 'active' : '')}>\r\n        <div className={'modal modal-add'} data-cy={dataCy}>\r\n            <div className=\"modal-header\">\r\n                <h2 className=\"modal-add-title\" data-cy=\"modal-add-title\">Tambah List Item</h2>\r\n                <Button className=\"ml-auto btn-light btn-simple modal-add-close-button\" text='' dataCy='modal-add-close-button' icon='icon-close' \r\n                    onClick={()=>setShow(false)}/>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n                <div className=\"input-group\">\r\n                    <label className=\"input-group-label\"\r\n                        data-cy=\"modal-add-name-item\">NAMA LIST ITEM</label>\r\n                    <input className=\"input-group-input\" type=\"text\"  \r\n                        placeholder=\"Tambahkan nama Activity\"\r\n                        style={{width: 'calc(100% - 36px)'}}\r\n                        value={formdata.title}\r\n                        onChange={OnTitleFieldChange}\r\n                        data-cy=\"modal-add-name-input\"\r\n                         />\r\n                </div>\r\n                <div className=\"input-group\">\r\n                    <label className=\"input-group-label\"\r\n                        data-cy=\"modal-add-priority-title\" >PRIORITY</label>\r\n                    <CustomSelect \r\n                        value={formdata.priority}\r\n                        onChange={OnPriorityFieldChange}\r\n                        dataCy=\"modal-add-priority-dropdown\"\r\n                        type=\"select\"\r\n                        widthSize={205}\r\n                        options={[\r\n                            {\r\n                                key: 'very-high',\r\n                                value: <><span data-cy=\"modal-add-priority-item\" className='priority-indicator bg-red'/>Very High</>\r\n                            },\r\n                            {\r\n                                key: 'high',\r\n                                value: <><span data-cy=\"modal-add-priority-item\" className='priority-indicator bg-yellow'/>High</>\r\n                            },\r\n                            {\r\n                                key: 'normal',\r\n                                value: <><span data-cy=\"modal-add-priority-item\" className='priority-indicator bg-green'/>Medium</>\r\n                            },\r\n                            {\r\n                                key: 'low',\r\n                                value: <><span data-cy=\"modal-add-priority-item\" className='priority-indicator bg-cyan'/>Low</>\r\n                            },\r\n                            {\r\n                                key: 'very-low',\r\n                                value: <><span data-cy=\"modal-add-priority-item\" className='priority-indicator bg-purple'/>Very Low</>\r\n                            }\r\n                        ]}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n                <Button className=\"ml-auto btn-primary modal-add-save-button\" text='Simpan' dataCy='modal-add-save-button'\r\n                    onClick={OnSimpanConfirm} \r\n                    isDisabled={isDisabled}\r\n                />\r\n            </div>\r\n        </div>    \r\n    </div>\r\n)\r\n}","import { findIndex } from \"lodash\"\r\nimport React, { useEffect } from \"react\"\r\nimport Button from \"./Button\"\r\nimport \"./custom-select.css\"\r\n\r\ntype KeyValueOption = {key:string, value:React.ReactNode, dataCy?:string }\r\n\r\ninterface SelectInterface {\r\n    type: string,\r\n    widthSize?: number,\r\n    className?:string,\r\n    value?:string,\r\n    onChange?:any,\r\n    dataCy?:string,\r\n    options: [KeyValueOption, ...KeyValueOption[]]\r\n}\r\n\r\nexport default function CustomSelect(props:SelectInterface) {\r\n\r\nconst ref = React.createRef<HTMLSelectElement>();\r\n\r\nconst [focus, setFocus] = React.useState<boolean>(false)\r\n\r\nconst [selected, setSelected] = React.useState<number>(0)\r\n\r\nuseEffect(()=>{\r\n    if(!props.value)\r\n    {\r\n        props.value = props.options[selected].key\r\n    }\r\n    else\r\n    {\r\n        const idx = findIndex(props.options, x => x.key == props.value)\r\n        setSelected(idx)\r\n    }\r\n        \r\n},[props.value])\r\n\r\nconst ToggleFocus = () => {\r\n    if(focus) ref.current?.blur()\r\n    else ref.current?.focus()\r\n}\r\n\r\nconst OnSelect = (index:number) => {\r\n    setSelected(index)\r\n    props.onChange(props.options[index].key)\r\n}\r\n\r\nconst _width = props.widthSize ? props.widthSize : 235\r\n\r\nreturn (\r\n<div className={\"custom-select-container type-\"+props.type+\" \"+props.className}>\r\n    {\r\n        props.type === 'button' ?\r\n        <Button className=\"ml-auto btn-alternative btn-circle activity-sort-button\" text='' dataCy='todo-sort-button' icon='icon-sort'\r\n            onClick={ToggleFocus}\r\n        />\r\n        :\r\n        <div className=\"custom-select-toggle\" style={{width: _width}} \r\n            onClick={ToggleFocus}\r\n            data-cy={props.dataCy}\r\n            >\r\n            {props.options[selected].value}\r\n        </div>\r\n    }\r\n    <select ref={ref} className=\"custom-select\" \r\n        onFocus={()=>setFocus(true)}\r\n        onBlur={()=>{\r\n            setTimeout(() => {\r\n                setFocus(false)\r\n            }, 100);\r\n        }}\r\n        >\r\n        {props.options.map(x => <option key={x.key} value={x.key}></option>)}\r\n    </select>\r\n    <ul className={\"option-container \"\r\n                    + (focus ? 'active ':'')\r\n                }\r\n        style={{width:_width}}\r\n        >\r\n        {props.options.map((x, i) => \r\n            <li className={(props.value==x.key) ? 'selected' : ''} \r\n                onClick={()=>OnSelect(i)}\r\n                key={x.key}\r\n                data-cy={x.dataCy}\r\n                >{x.value}</li>\r\n        )}\r\n    </ul>\r\n</div>)\r\n}","import React from \"react\"\r\nimport Button from \"./Button\"\r\nimport \"./modal-edit.css\"\r\nimport CustomSelect from \"./custom-select\"\r\nimport { trim, trimStart } from \"lodash\"\r\n\r\nimport {TodoDataTambah, TodoDataEdit} from \"../util/types\"\r\n\r\nconst ModalEdit = React.forwardRef( ({className, dataCy, isShow, setShow, OnSubmit}:{className?:string, dataCy:string, isShow:boolean, setShow?:any, OnSubmit:any}, ref) => {\r\n\r\nconst [isDisabled, setIsDisabled] = React.useState<boolean>(true)\r\n\r\nconst [formdata, setFormdata] = React.useState<TodoDataEdit>({\r\n    id: -1,\r\n    is_active: 1,\r\n    title:'',\r\n    priority:'very-high'\r\n})\r\n\r\nReact.useImperativeHandle(ref, () => ({\r\n    ResetFields(param:TodoDataEdit){\r\n        setFormdata(param)\r\n        if(param.title !== '') setIsDisabled(false)\r\n        else setIsDisabled(true)\r\n    }\r\n}))\r\n\r\nconst OnTitleFieldChange = (e:any) => {\r\n    const newvalue = trimStart(e.target.value)\r\n    e.target.value = newvalue\r\n    if(newvalue==='') setIsDisabled(true)\r\n    else setIsDisabled(false)\r\n\r\n    setFormdata({\r\n        id: formdata.id,\r\n        is_active: formdata.is_active,\r\n        title: newvalue,\r\n        priority: formdata.priority\r\n    })\r\n}\r\n\r\nconst OnPriorityFieldChange = (value:string) => {\r\n    setFormdata({\r\n        id: formdata.id,\r\n        is_active: formdata.is_active,\r\n        title: formdata.title,\r\n        priority: value\r\n    })\r\n}\r\n\r\nconst OnSimpanConfirm = () => {\r\n    OnSubmit({\r\n        id: formdata.id,\r\n        title: trim(formdata.title),\r\n        priority: formdata.priority\r\n    })\r\n\r\n    /// Reset Value\r\n    setFormdata({\r\n        id: formdata.id,\r\n        is_active: formdata.is_active,\r\n        title:'',\r\n        priority:'very-high'\r\n    })\r\n}\r\n\r\nreturn (\r\n    <div className={\"modal-container \"+className+\" \"+(isShow ? 'active' : '')}>\r\n        <div className={'modal modal-add'} data-cy={dataCy}>\r\n            <div className=\"modal-header\">\r\n                <h2 className=\"modal-add-title\" data-cy=\"modal-add-title\">Tambah List Item</h2>\r\n                <Button className=\"ml-auto btn-light btn-simple modal-add-close-button\" text='' dataCy='modal-add-close-button' icon='icon-close' \r\n                    onClick={()=>setShow(false)}/>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n                <div className=\"input-group\">\r\n                    <label className=\"input-group-label\"\r\n                        data-cy=\"modal-add-name-item\">NAMA LIST ITEM</label>\r\n                    <input className=\"input-group-input\" type=\"text\"  \r\n                        placeholder=\"Tambahkan nama Activity\"\r\n                        style={{width: 'calc(100% - 36px)'}}\r\n                        value={formdata.title}\r\n                        onChange={OnTitleFieldChange}\r\n                        data-cy=\"modal-add-name-input\"\r\n                         />\r\n                </div>\r\n                <div className=\"input-group\">\r\n                    <label className=\"input-group-label\"\r\n                        data-cy=\"modal-add-priority-title\">PRIORITY</label>\r\n                    <CustomSelect \r\n                        value={formdata.priority}\r\n                        onChange={OnPriorityFieldChange}\r\n                        dataCy=\"modal-add-priority-dropdown\"\r\n                        type=\"select\"\r\n                        widthSize={205}\r\n                        options={[\r\n                            {\r\n                                key: 'very-high',\r\n                                value: <><span className='priority-indicator bg-red'/>Very High</>\r\n                            },\r\n                            {\r\n                                key: 'high',\r\n                                value: <><span className='priority-indicator bg-yellow'/>High</>\r\n                            },\r\n                            {\r\n                                key: 'normal',\r\n                                value: <><span className='priority-indicator bg-green'/>Medium</>\r\n                            },\r\n                            {\r\n                                key: 'low',\r\n                                value: <><span className='priority-indicator bg-cyan'/>Low</>\r\n                            },\r\n                            {\r\n                                key: 'very-low',\r\n                                value: <><span className='priority-indicator bg-purple'/>Very Low</>\r\n                            }\r\n                        ]}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n                <Button className=\"ml-auto btn-primary modal-add-save-button\" text='Simpan' dataCy='modal-add-save-button'\r\n                    onClick={OnSimpanConfirm} \r\n                    isDisabled={isDisabled}\r\n                />\r\n            </div>\r\n        </div>    \r\n    </div>\r\n)\r\n})\r\n\r\nexport default ModalEdit","export type TodoDataTambah = {\r\n    title:string,\r\n    priority:string\r\n}\r\n\r\nexport type TodoDataEdit = {\r\n    id: number,\r\n    title:string,\r\n    is_active: number,\r\n    priority:string\r\n}\r\n\r\nexport type ToDoItem = {\r\n    id: number,\r\n    title: string,\r\n    activity_group_id: number,\r\n    is_active: number,\r\n    priority: string\r\n}\r\n\r\nexport enum SortOrder {\r\n    LATEST = 'latest',\r\n    OLDEST = 'oldest',\r\n    AZ = 'az',\r\n    ZA = 'za',\r\n    UNFINISHED = 'unfinished',\r\n  }"],"names":["$ayMG0","parcelRequire","$7478fb404793b718$export$2e2bcd8739ae039","navigate","$lzNIT","useNavigate","params","$aphAM","useParams","ModalEditRef","$parcel$interopDefault","$acw62","useRef","data","setData","useState","id","title","created_at","todo_items","isShowDeleteModal","setShowDeleteModal","$8PsrX","default","isShowEditModal","setShowEditModal","isShowAddModal","setShowAddModal","idDelete","setIdDelete","titleDelete","setTitleDelete","sortOrder","setSortOrder","$7iNiK","SortOrder","LATEST","isEditTitle","setIsEditTitle","activityTitle","setActivityTitle","titleInputRef","useEffect","async","response","fetch","uid","actualData","json","getData","OnBeforeDelete","OnEdit","param","current","ResetFields","OnUpdate","requestOptions","method","headers","body","JSON","stringify","ok","error","status","Promise","reject","todos","$f1q41","cloneDeep","findIndex","x","activity_group_id","is_active","priority","jsxs","Fragment","jsx","$6DBKY","ref","isShow","setShow","dataCy","OnSubmit","$fhPm2","jsonData","newItem","concat","$b2je2","OnDeleteConfirm","then","newTodos","remove","text","itemname","$d1VrR","className","onClick","style","width","height","value","onChange","e","target","onBlur","trim","console","log","setTimeout","focus","$8K2Oq","type","order","orderBy","OLDEST","AZ","ZA","UNFINISHED","options","key","$k5Zdv","icon","length","src","$3pDgf","alt","map","$8uLeK","toggleEdit","toggleUpdate","module","exports","URL","resolve","import","meta","url","toString","$70c1f1dd39d2e764$export$2e2bcd8739ae039","checked","GetPriorityClass","$11bCd","$ff0cf2de3c7412dc$export$2e2bcd8739ae039","isDisabled","$bc97e38958e2dc79$export$2e2bcd8739ae039","setIsDisabled","formdata","setFormdata","placeholder","newvalue","trimStart","widthSize","$c2dcf707fe706a5e$export$2e2bcd8739ae039","props","createRef","setFocus","selected","setSelected","idx","ToggleFocus","blur","_width","onFocus","i","OnSelect","index","$599f529af380428f$export$2e2bcd8739ae039","forwardRef","useImperativeHandle","$76dee234012e4339$export$7ae723045d45777a"],"version":3,"file":"Activity.44f60df2.js.map"}