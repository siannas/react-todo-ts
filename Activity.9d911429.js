function t(t){return t&&t.__esModule?t.default:t}function e(t,e,a,i){Object.defineProperty(t,e,{get:a,set:i,enumerable:!0,configurable:!0})}var a=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequirec75a;a.register("9odLu",(function(i,s){var o;o=i.exports,Object.defineProperty(o,"__esModule",{value:!0,configurable:!0}),e(i.exports,"default",(()=>N));var d=a("ayMG0"),l=a("acw62"),r=a("lzNIT"),n=a("aphAM"),c=a("f1q41"),m=a("k5Zdv"),u=a("d1VrR"),y=a("3pDgf"),p=a("8uLeK"),h=a("fhPm2"),v=a("6DBKY"),g=a("8K2Oq"),x=a("lhSjn"),b=a("b2je2"),j=a("8PsrX"),f=a("7iNiK");function N(){const e=(0,r.useNavigate)(),a=(0,n.useParams)(),i=t(l).useRef(),[s,o]=t(l).useState({id:-1,title:"",created_at:"",todo_items:[]}),[N,w]=(0,j.default)(),[k,S]=(0,j.default)(),[C,_]=(0,j.default)(),[T,O]=(0,j.default)(),[F,L]=t(l).useState(-1),[I,A]=t(l).useState(""),[D,E]=t(l).useState(f.SortOrder.LATEST),[M,P]=t(l).useState(!1),[R,B]=t(l).useState(""),z=t(l).useRef(null);(0,l.useEffect)((()=>{!async function(){const t=await fetch("https://todo.api.devcode.gethired.id/activity-groups/"+a.uid);let e=await t.json();B(e.title),o(e)}()}),[]);const Z=(t,e)=>{L(t),A(e),S(!0)},K=t=>{i.current?.ResetFields(t),_(!0)},q=async t=>{if(""===t.title)return;const e={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},a=await fetch("https://todo.api.devcode.gethired.id/todo-items/"+t.id,e),i=await a.json();if(!a.ok){const t=a.status;return Promise.reject(t)}var d=(0,c.cloneDeep)(s.todo_items);d[(0,c.findIndex)(d,(e=>e.id===t.id))]={id:i.id,title:i.title,activity_group_id:i.activity_group_id,is_active:i.is_active,priority:i.priority},o({id:s.id,title:s.title,created_at:s.created_at,todo_items:d}),_(!1)},H=()=>{P(!0),setTimeout((()=>{z.current?.focus()}),100)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v.default,{ref:i,isShow:C,setShow:_,dataCy:"modal-add",OnSubmit:q}),(0,d.jsx)(h.default,{isShow:T,setShow:O,dataCy:"modal-add",OnSubmit:async t=>{const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({activity_group_id:a.uid,...t})},i=await fetch("https://todo.api.devcode.gethired.id/todo-items",e),d=await i.json();if(!i.ok){const t=i.status;return Promise.reject(t)}const l=[{id:d.id,title:d.title,activity_group_id:d.activity_group_id,is_active:d.is_active,priority:d.priority}].concat(s.todo_items);o({id:s.id,title:s.title,created_at:s.created_at,todo_items:l}),O(!1)}}),(0,d.jsx)(b.default,{OnDeleteConfirm:()=>{L(-1),S(!1);fetch("https://todo.api.devcode.gethired.id/todo-items/"+F,{method:"DELETE"}).then((()=>{var t=(0,c.cloneDeep)(s.todo_items);t=(0,c.remove)(t,(t=>t.id!==F)),o({id:s.id,title:s.title,created_at:s.created_at,todo_items:t}),w(!0)}))},isShow:k,setShow:S,text:"Apakah anda yakin menghapus List Item",itemname:I}),(0,d.jsx)(x.default,{isShow:N,setShow:w,text:"Item berhasil dihapus"}),(0,d.jsxs)(u.default,{children:[(0,d.jsxs)("div",{className:"todo-header",children:[(0,d.jsx)("button",{className:"btn btn-light btn-simple todo-back-button","data-cy":"todo-back-button",onClick:()=>e(-1),children:(0,d.jsx)("span",{className:"icon-back",style:{width:"32px",height:"32px"}})}),M?(0,d.jsx)("input",{ref:z,className:"activity-title-edit",value:R,onChange:t=>B(t.target.value),onBlur:async t=>{const e=(0,c.trim)(t.target.value);P(!1);const a={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e})};await fetch("https://todo.api.devcode.gethired.id/activity-groups/"+s.id,a).then((()=>{console.log(e)}))}}):(0,d.jsx)("h1",{className:"todo-title","data-cy":"todo-title",onClick:H,children:R}),(0,d.jsx)("button",{className:"btn btn-light btn-simple todo-title-edit-button","data-cy":"todo-title-edit-button",onClick:H,children:(0,d.jsx)("span",{className:"icon-edit"})}),(0,d.jsx)(g.default,{value:D,className:"ml-auto",type:"button",onChange:t=>{if(t===D)return;const e=t;E(e);var a=(0,c.cloneDeep)(s.todo_items);switch(e){case f.SortOrder.LATEST:a=(0,c.orderBy)(a,["id"],["desc"]);break;case f.SortOrder.OLDEST:a=(0,c.orderBy)(a,["id"],["asc"]);break;case f.SortOrder.AZ:a=(0,c.orderBy)(a,[t=>t.title.toLowerCase()],["asc"]);break;case f.SortOrder.ZA:a=(0,c.orderBy)(a,[t=>t.title.toLowerCase()],["desc"]);break;case f.SortOrder.UNFINISHED:a=(0,c.orderBy)(a,["id","is_active"],["desc","asc"]);break;default:return}o({id:s.id,title:s.title,created_at:s.created_at,todo_items:a})},options:[{key:"latest",value:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"icon-sort-newest wh-18 mr-15"}),"Terbaru"]}),dataCy:"sort-selection"},{key:"oldest",value:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"icon-sort-oldest wh-18 mr-15"}),"Terlama"]}),dataCy:"sort-selection"},{key:"az",value:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"icon-sort-az wh-18 mr-15"}),"A-Z"]}),dataCy:"sort-selection"},{key:"za",value:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"icon-sort-za wh-18 mr-15"}),"Z-A"]}),dataCy:"sort-selection"},{key:"unfinished",value:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"icon-sort-unfinished wh-18 mr-15"}),"Belum Selesai"]}),dataCy:"sort-selection"}]}),(0,d.jsx)(m.default,{className:"btn-primary",text:"Tambah",dataCy:"todo-add-button",onClick:()=>{O(!0)},icon:"icon-plus"})]}),(0,d.jsx)("div",{className:"activity-content",children:0==s.todo_items.length?(0,d.jsx)("div",{className:"todo-empty-state","data-cy":"todo-empty-state",children:(0,d.jsx)("img",{src:t(y),alt:"empty"})}):s.todo_items.map((t=>(0,d.jsx)(p.default,{uid:t.id,title:t.title,is_active:t.is_active,priority:t.priority,toggleEdit:K,toggleUpdate:q,OnBeforeDelete:Z},t.id)))})]})]})}})),a.register("3pDgf",(function(t,e){t.exports=new URL(a("27Lyk").resolve("9XZxD"),import.meta.url).toString()})),a.register("8uLeK",(function(t,i){e(t.exports,"default",(()=>d));var s=a("ayMG0");a("acw62");var o=a("11bCd");function d({uid:t,title:e,OnBeforeDelete:a,priority:i,is_active:d,toggleEdit:l,toggleUpdate:r}){return(0,s.jsxs)("div",{className:"todo-item","data-cy":"todo-item",children:[(0,s.jsx)("input",{className:"todo-item-checkbox","data-cy":"todo-item-checkbox",type:"checkbox",checked:0==d,onChange:a=>{r({is_active:a.target.checked?0:1,id:t,title:e,priority:i})}}),(0,s.jsx)("span",{className:"todo-item-priority-indicator "+(()=>{switch(i){case"very-high":return"bg-red";case"high":return"bg-yellow";case"normal":return"bg-green";case"low":return"bg-cyan";case"very-low":return"bg-purple";default:return""}})(),"data-cy":"todo-item-priority-indicator"}),(0,s.jsx)("h2",{className:"todo-item-title","data-cy":"todo-item-title",children:e}),(0,s.jsx)(o.default,{className:"btn-light btn-simple todo-item-edit-button",text:"",dataCy:"todo-item-edit-button",icon:"icon-edit",onClick:()=>l({is_active:d,id:t,title:e,priority:i})}),(0,s.jsx)(o.default,{className:"ml-auto btn-light btn-simple todo-item-delete-button",text:"",dataCy:"todo-item-delete-button",icon:"icon-delete",onClick:()=>a(t,e)})]})}})),a.register("11bCd",(function(t,i){e(t.exports,"default",(()=>o));var s=a("ayMG0");function o({className:t,text:e,dataCy:a,icon:i,onClick:o,isDisabled:d}){return(0,s.jsxs)("button",{className:"btn "+t+" "+(d?"disabled":""),"data-cy":a,onClick:o,disabled:d,children:[i?(0,s.jsx)("span",{className:i}):"",e]})}a("acw62")})),a.register("fhPm2",(function(i,s){e(i.exports,"default",(()=>c));var o=a("ayMG0"),d=a("acw62"),l=a("k5Zdv"),r=a("8K2Oq"),n=a("f1q41");function c({className:e,dataCy:a,isShow:i,setShow:s,OnSubmit:c}){const[m,u]=t(d).useState(!0),[y,p]=t(d).useState({title:"",priority:"very-high"});return(0,o.jsxs)("div",{className:"modal-container "+e+" "+(i?"active":""),children:[(0,o.jsx)("div",{className:"modal-bg",onClick:()=>s(!1)}),(0,o.jsxs)("div",{className:"modal modal-add","data-cy":a,children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h2",{className:"modal-add-title","data-cy":"modal-add-title",children:"Tambah List Item"}),(0,o.jsx)(l.default,{className:"ml-auto btn-light btn-simple modal-add-close-button",text:"",dataCy:"modal-add-close-button",icon:"icon-close",onClick:()=>s(!1)})]}),(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsxs)("div",{className:"input-group",children:[(0,o.jsx)("label",{className:"input-group-label","data-cy":"modal-add-name-item",children:"NAMA LIST ITEM"}),(0,o.jsx)("input",{className:"input-group-input",type:"text",placeholder:"Tambahkan nama Activity",style:{width:"calc(100% - 36px)"},value:y.title,onChange:t=>{const e=(0,n.trimStart)(t.target.value);t.target.value=e,""===(0,n.trim)(e)?u(!0):u(!1),p({title:e,priority:y.priority})},"data-cy":"modal-add-name-input"})]}),(0,o.jsxs)("div",{className:"input-group",children:[(0,o.jsx)("label",{className:"input-group-label","data-cy":"modal-add-priority-title",children:"PRIORITY"}),(0,o.jsx)(r.default,{value:y.priority,onChange:t=>{p({title:y.title,priority:t})},dataCy:"modal-add-priority-dropdown",type:"select",widthSize:205,options:[{key:"very-high",value:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{"data-cy":"modal-add-priority-item",className:"priority-indicator bg-red"}),"Very High"]})},{key:"high",value:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{"data-cy":"modal-add-priority-item",className:"priority-indicator bg-yellow"}),"High"]})},{key:"normal",value:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{"data-cy":"modal-add-priority-item",className:"priority-indicator bg-green"}),"Medium"]})},{key:"low",value:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{"data-cy":"modal-add-priority-item",className:"priority-indicator bg-cyan"}),"Low"]})},{key:"very-low",value:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{"data-cy":"modal-add-priority-item",className:"priority-indicator bg-purple"}),"Very Low"]})}]})]})]}),(0,o.jsx)("div",{className:"modal-footer",children:(0,o.jsx)("button",{className:"btn ml-auto btn-primary modal-add-save-button","data-cy":"modal-add-save-button",onClick:()=>{c({title:(0,n.trim)(y.title),priority:y.priority}),p({title:"",priority:"very-high"}),u(!0)},disabled:m,children:"Simpan"})})]})]})}})),a.register("8K2Oq",(function(i,s){e(i.exports,"default",(()=>n));var o=a("ayMG0"),d=a("f1q41"),l=a("acw62"),r=a("k5Zdv");function n(e){const a=t(l).createRef(),[i,s]=t(l).useState(!1),[n,c]=t(l).useState(0);(0,l.useEffect)((()=>{if(e.value){const t=(0,d.findIndex)(e.options,(t=>t.key==e.value));c(t)}else e.value=e.options[n].key}),[e.value]);const m=()=>{i?a.current?.blur():a.current?.focus()},u=e.widthSize?e.widthSize:235;return(0,o.jsxs)("div",{className:"custom-select-container type-"+e.type+" "+e.className,children:["button"===e.type?(0,o.jsx)(r.default,{className:"ml-auto btn-alternative btn-circle activity-sort-button",text:"",dataCy:"todo-sort-button",icon:"icon-sort",onClick:m}):(0,o.jsx)("div",{className:"custom-select-toggle",style:{width:u},onClick:m,"data-cy":e.dataCy,children:e.options[n].value}),(0,o.jsx)("select",{ref:a,className:"custom-select",onFocus:()=>s(!0),onBlur:()=>{setTimeout((()=>{s(!1)}),100)},children:e.options.map((t=>(0,o.jsx)("option",{value:t.key},t.key)))}),(0,o.jsx)("ul",{className:"option-container "+(i?"active ":""),style:{width:u},children:e.options.map(((t,a)=>(0,o.jsx)("li",{className:e.value==t.key?"selected":"",onClick:()=>{return c(t=a),void e.onChange(e.options[t].key);var t},"data-cy":t.dataCy,children:t.value},t.key)))})]})}})),a.register("6DBKY",(function(i,s){e(i.exports,"default",(()=>c));var o=a("ayMG0"),d=a("acw62"),l=a("k5Zdv"),r=a("8K2Oq"),n=a("f1q41");var c=t(d).forwardRef((({className:e,dataCy:a,isShow:i,setShow:s,OnSubmit:c},m)=>{const[u,y]=t(d).useState(!0),[p,h]=t(d).useState({id:-1,is_active:1,title:"",priority:"very-high"});t(d).useImperativeHandle(m,(()=>({ResetFields(t){h(t),""!==t.title?y(!1):y(!0)}})));return(0,o.jsx)("div",{className:"modal-container "+e+" "+(i?"active":""),children:(0,o.jsxs)("div",{className:"modal modal-add","data-cy-old":a,children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h2",{className:"modal-add-title","data-cy-old":"modal-add-title",children:"Edit Item"}),(0,o.jsx)(l.default,{className:"ml-auto btn-light btn-simple modal-add-close-button",text:"",dataCy:"modal-edit-close-button",icon:"icon-close",onClick:()=>s(!1)})]}),(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsxs)("div",{className:"input-group",children:[(0,o.jsx)("label",{className:"input-group-label","data-cy-old":"modal-add-name-item",children:"NAMA LIST ITEM"}),(0,o.jsx)("input",{className:"input-group-input",type:"text",placeholder:"Tambahkan nama Activity",style:{width:"calc(100% - 36px)"},value:p.title,onChange:t=>{const e=(0,n.trimStart)(t.target.value);t.target.value=e,""===(0,n.trim)(e)?y(!0):y(!1),h({id:p.id,is_active:p.is_active,title:e,priority:p.priority})},"data-cy-old":"modal-add-name-input"})]}),(0,o.jsxs)("div",{className:"input-group",children:[(0,o.jsx)("label",{className:"input-group-label","data-cy-old":"modal-add-priority-title",children:"PRIORITY"}),(0,o.jsx)(r.default,{value:p.priority,onChange:t=>{h({id:p.id,is_active:p.is_active,title:p.title,priority:t})},type:"select",widthSize:205,options:[{key:"very-high",value:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"priority-indicator bg-red"}),"Very High"]})},{key:"high",value:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"priority-indicator bg-yellow"}),"High"]})},{key:"normal",value:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"priority-indicator bg-green"}),"Medium"]})},{key:"low",value:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"priority-indicator bg-cyan"}),"Low"]})},{key:"very-low",value:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"priority-indicator bg-purple"}),"Very Low"]})}]})]})]}),(0,o.jsx)("div",{className:"modal-footer",children:(0,o.jsx)(l.default,{className:"ml-auto btn-primary modal-add-save-button",text:"Simpan",dataCy:"modal-edit-save-button",onClick:()=>{c({id:p.id,title:(0,n.trim)(p.title),priority:p.priority}),h({id:p.id,is_active:p.is_active,title:"",priority:"very-high"})},isDisabled:u})})]})})}))})),a.register("7iNiK",(function(t,a){let i;var s;e(t.exports,"SortOrder",(()=>i)),(s=i||(i={})).LATEST="latest",s.OLDEST="oldest",s.AZ="az",s.ZA="za",s.UNFINISHED="unfinished"}));
//# sourceMappingURL=Activity.9d911429.js.map
