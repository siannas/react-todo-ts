{"mappings":"ycAAA,IAAAA,EAAAC,EAAA,S,mMAwBe,SAAAC,IAEX,MAAMC,GAAW,EAAAC,EAAAC,eAEXC,GAAS,EAAAC,EAAAC,aAETC,EAAeC,EAAAC,GAAMC,UAEpBC,EAAMC,GAAWJ,EAAAC,GAAMI,SAAmB,CAACC,IAAG,EAAIC,MAAM,GAAIC,WAAW,GAAIC,WAAW,MAEtFC,EAAaC,IAAgB,EAAAC,EAAAC,YAE7BC,EAAmBC,IAAsB,EAAAH,EAAAC,YAEzCG,EAAiBC,IAAoB,EAAAL,EAAAC,YAErCK,EAAgBC,IAAmB,EAAAP,EAAAC,YAEnCO,EAAUC,GAAerB,EAAAC,GAAMI,UAAiB,IAEhDiB,EAAaC,GAAkBvB,EAAAC,GAAMI,SAAiB,KAEtDmB,EAAWC,GAAgBzB,EAAAC,GAAMI,SAAoBqB,EAAAC,UAAUC,SAE/DC,EAAaC,GAAkB9B,EAAAC,GAAMI,UAAkB,IAEvD0B,EAAeC,GAAoBhC,EAAAC,GAAMI,SAAiB,IAG3D4B,EAAgBjC,EAAAC,GAAMC,OAAyB,OAErD,EAAAD,EAAAiC,YAAU,MACNC,iBAEI,MAAMC,QAAiBC,MAAM,wDAAwDzC,EAAO0C,KAE5F,IAAIC,QAAmBH,EAASI,OAEhCR,EAAiBO,EAAWhC,OAE5BH,EAAQmC,EACZ,CAEAE,EAAA,GACF,IAEF,MAwCMC,EAAiB,CAACpC,EAAWC,KAC/Bc,EAAYf,GACZiB,EAAehB,GACfQ,GAAmB,EAAI,EA6BrB4B,EAAUC,IACZ7C,EAAa8C,SAASC,YAAYF,GAElC3B,GAAiB,EAAI,EAGnB8B,EAAWZ,MAAOS,IACpB,GAAmB,KAAhBA,EAAMrC,MAAc,OAEvB,MAAMyC,EAAiB,CACnBC,OAAQ,QACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUT,IAGnBR,QAAiBC,MAAM,mDAAmDO,EAAMtC,GAAI0C,GAEpFT,QAAmBH,EAASI,OAElC,IAAKJ,EAASkB,GAAI,CAEd,MAAMC,EAAQnB,EAASoB,OACvB,OAAOC,QAAQC,OAAOH,EAC1B,CAEA,IAAII,GAAQ,EAAAC,EAAAC,WAAU1D,EAAKM,YAI3BkD,GAFY,EAAAC,EAAAE,WAAUH,GAAOI,GAAKA,EAAEzD,KAAKsC,EAAMtC,MAElC,CACTA,GAAMiC,EAAWjC,GACjBC,MAASgC,EAAWhC,MACpByD,kBAAqBzB,EAAWyB,kBAChCC,UAAa1B,EAAW0B,UACxBC,SAAY3B,EAAW2B,UAG3B9D,EAAQ,CACJE,GAAIH,EAAKG,GACTC,MAAOJ,EAAKI,MACZC,WAAYL,EAAKK,WACjBC,WAAYkD,IAGhB1C,GAAiB,EAAK,EAyCpBkD,EAAkB,KACpBrC,GAAe,GACfsC,YAAW,KACPnC,EAAcY,SAASwB,OAAA,GACxB,I,EAuBX,OACA,EAAA/E,EAAAgF,MAAAhF,EAAAiF,SAAA,C,WACI,EAAAjF,EAAAkF,KAACC,EAAA5D,QAAQ,CAAE6D,IAAK3E,EAAc4E,OAAQ3D,EAAiB4D,QAAS3D,EAAkB4D,OAAO,YAAYC,SAAU/B,KAC/G,EAAAzD,EAAAkF,KAACO,EAAAlE,QAAI,CAAE8D,OAAQzD,EAAgB0D,QAASzD,EAAiB0D,OAAO,YAAYC,SAvL3D3C,MAAO6C,IACpB,MAAMhC,EAAiB,CACnBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACjBW,kBAAqBpE,EAAO0C,OAAQ0C,KAGtC5C,QAAiBC,MAAM,kDAAmDW,GAE1ET,QAAmBH,EAASI,OAElC,IAAKJ,EAASkB,GAAI,CAEd,MAAMC,EAAQnB,EAASoB,OACvB,OAAOC,QAAQC,OAAOH,EAC1B,CAEA,MAAM0B,EAAU,CAAC,CACb3E,GAAMiC,EAAWjC,GACjBC,MAASgC,EAAWhC,MACpByD,kBAAqBzB,EAAWyB,kBAChCC,UAAa1B,EAAW0B,UACxBC,SAAY3B,EAAW2B,WACxBgB,OAAO/E,EAAKM,YAEfL,EAAQ,CACJE,GAAIH,EAAKG,GACTC,MAAOJ,EAAKI,MACZC,WAAYL,EAAKK,WACjBC,WAAYwE,IAGhB9D,GAAgB,EAAK,KAuJzB,EAAA7B,EAAAkF,KAACW,EAAAtE,QAAU,CACPuE,gBA/IoB,KACpB/D,GAAY,GACZN,GAAmB,GAKnBsB,MAAM,mDAAmDjB,EAHlC,CACnB6B,OAAQ,WAGPoC,MAAK,KAGF,IAAIC,GAAW,EAAA1B,EAAAC,WAAU1D,EAAKM,YAE9B6E,GAAW,EAAA1B,EAAA2B,QAAOD,GAAWvB,GAAMA,EAAEzD,KAAOc,IAE5ChB,EAAQ,CACJE,GAAIH,EAAKG,GACTC,MAAOJ,EAAKI,MACZC,WAAYL,EAAKK,WACjBC,WAAY6E,IAGhB3E,GAAa,EAAI,GACrB,EAyHJgE,OAAQ7D,EAAmB8D,QAAS7D,EAAqByE,KAAK,wCAAwCC,SAAUnE,KACpH,EAAAhC,EAAAkF,KAACkB,EAAA7E,QAAI,CAAE8D,OAAQjE,EAAakE,QAASjE,EAAc6E,KAAK,2BACxD,EAAAlG,EAAAgF,MAACqB,EAAA9E,QAAK,C,WACF,EAAAvB,EAAAgF,MAAC,OAAIsB,UAAU,c,WACX,EAAAtG,EAAAkF,KAAC,UAAOoB,UAAU,4CAA4C,UAAQ,mBAClEC,QAAS,IAAIpG,GAAS,G,UACtB,EAAAH,EAAAkF,KAAC,QAAKoB,UAAU,YAAYE,MAAO,CAACC,MAAO,OAAOC,OAAQ,YAG1DnE,GACA,EAAAvC,EAAAkF,KAAC,SAAME,IAAKzC,EAAe2D,UAAU,sBAAsBK,MAAOlE,EAC9DmE,SAAWC,GAAInE,EAAiBmE,EAAEC,OAAOH,OACzCI,OAtCgBlE,MAAOgE,IACnC,MAAM5F,GAAQ,EAAAqD,EAAA0C,MAAKH,EAAEC,OAAOH,OAE5BnE,GAAe,GAEf,MAAMkB,EAAiB,CACnBC,OAAQ,QACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACjB9C,MAAOA,WAIT8B,MAAM,wDAAwDlC,EAAKG,GAAI0C,GACxEqC,MAAK,KACFkB,QAAQC,IAAIjG,EAAA,GAChB,KAwBI,EAAAjB,EAAAkF,KAAC,MAAGoB,UAAU,aAAa,UAAQ,aAC/BC,QAAS1B,E,SAAmBpC,KAEpC,EAAAzC,EAAAkF,KAAC,UAAOoB,UAAU,kDAAkD,UAAQ,yBACxEC,QAAS1B,E,UACT,EAAA7E,EAAAkF,KAAC,QAAKoB,UAAU,iBAGpB,EAAAtG,EAAAkF,KAACiC,EAAA5F,QAAW,CACRoF,MAAOzE,EACPoE,UAAU,UACVc,KAAK,SACLR,SAjGYtD,IACpB,GAAGA,IAAUpB,EAAW,OAExB,MAAMmF,EAAQ/D,EAEdnB,EAAakF,GAEb,IAAIhD,GAAQ,EAAAC,EAAAC,WAAU1D,EAAKM,YAE3B,OAAOkG,GAEH,KAAKjF,EAAAC,UAAUC,OACX+B,GAAQ,EAAAC,EAAAgD,SAAQjD,EAAO,CAAC,MAAO,CAAC,SAChC,MACJ,KAAKjC,EAAAC,UAAUkF,OACXlD,GAAQ,EAAAC,EAAAgD,SAAQjD,EAAO,CAAC,MAAO,CAAC,QAChC,MACJ,KAAKjC,EAAAC,UAAUmF,GACXnD,GAAQ,EAAAC,EAAAgD,SAAQjD,EAAO,CAACA,GAASA,EAAMpD,MAAMwG,eAAgB,CAAC,QAC9D,MACJ,KAAKrF,EAAAC,UAAUqF,GACXrD,GAAQ,EAAAC,EAAAgD,SAAQjD,EAAO,CAACA,GAASA,EAAMpD,MAAMwG,eAAgB,CAAC,SAC9D,MACJ,KAAKrF,EAAAC,UAAUsF,WACXtD,GAAQ,EAAAC,EAAAgD,SAAQjD,EAAO,CAAC,MAAO,CAAC,SAChC,MACJ,QACI,OAGRvD,EAAQ,CACJE,GAAIH,EAAKG,GACTC,MAAOJ,EAAKI,MACZC,WAAYL,EAAKK,WACjBC,WAAYkD,GAChB,EA+DQuD,QAAS,CACL,CACIC,IAAK,SACLlB,OAAO,EAAA3G,EAAAgF,MAAAhF,EAAAiF,SAAA,C,WAAE,EAAAjF,EAAAkF,KAAC,QAAKoB,UAAU,iCAAgC,aACzDf,OAAQ,kBAEZ,CACIsC,IAAK,SACLlB,OAAO,EAAA3G,EAAAgF,MAAAhF,EAAAiF,SAAA,C,WAAE,EAAAjF,EAAAkF,KAAC,QAAKoB,UAAU,iCAAgC,aACzDf,OAAQ,kBAEZ,CACIsC,IAAK,KACLlB,OAAO,EAAA3G,EAAAgF,MAAAhF,EAAAiF,SAAA,C,WAAE,EAAAjF,EAAAkF,KAAC,QAAKoB,UAAU,6BAA4B,SACrDf,OAAQ,kBAEZ,CACIsC,IAAK,KACLlB,OAAO,EAAA3G,EAAAgF,MAAAhF,EAAAiF,SAAA,C,WAAE,EAAAjF,EAAAkF,KAAC,QAAKoB,UAAU,6BAA4B,SACrDf,OAAQ,kBAEZ,CACIsC,IAAK,aACLlB,OAAO,EAAA3G,EAAAgF,MAAAhF,EAAAiF,SAAA,C,WAAE,EAAAjF,EAAAkF,KAAC,QAAKoB,UAAU,qCAAoC,mBAC7Df,OAAQ,sBAIpB,EAAAvF,EAAAkF,KAAC4C,EAAAvG,QAAK,CAAE+E,UAAU,cAAcJ,KAAK,SAASX,OAAO,kBAAkBgB,QArPxD,KACnB1E,GAAgB,EAAI,EAoPgFkG,KAAK,kBAEzG,EAAA/H,EAAAkF,KAAC,OAAIoB,UAAU,mB,SAEmB,GAA1BzF,EAAKM,WAAW6G,QAChB,EAAAhI,EAAAkF,KAAC,OAAIoB,UAAU,mBAAmB,UAAQ,mB,UACtC,EAAAtG,EAAAkF,KAAC,OAAI+C,IAAKvH,EAAAwH,GAAYC,IAAI,YAG9BtH,EAAKM,WAAWiH,KAAI3D,GACfrC,EAAAC,UAAUsF,aAAezF,GAA6B,IAAhBuC,EAAEE,UACzC,IAEA,EAAA3E,EAAAkF,KAACmD,EAAA9G,QAAO,CAEJyB,IAAKyB,EAAEzD,GACPC,MAAOwD,EAAExD,MACT0D,UAAWF,EAAEE,UACbC,SAAUH,EAAEG,SACZ0D,WAAYjF,EACZkF,aAAc9E,EACdL,eAAgBA,GAPXqB,EAAEzD,aAc/B,C,sCCvVAwH,EAAAC,QAAiB,IAAAC,IAAoBzI,EAAA,SAAA0I,QAA6C,SAAAC,OAAAC,KAAAC,KAAUC,U,qECA5F,IAAA/I,EAAAC,EAAA,S,4BAIe,SAAA+I,GAAkBhG,IAACA,EAAG/B,MAAEA,EAAKmC,eAAEA,EAAcwB,SAAEA,EAAQD,UAAEA,EAAS2D,WAAEA,EAAUC,aAAEA,IAmB/F,OACI,EAAAvI,EAAAgF,MAAC,OAAIsB,UAAU,YAAY,UAAQ,Y,WAC/B,EAAAtG,EAAAkF,KAAC,SAAMoB,UAAU,qBAAqB,UAAQ,qBAAqBc,KAAK,WAAW6B,QAAoB,GAAXtE,EACxFiC,SAAWC,IACP0B,EAAa,CACT5D,UAAWkC,EAAEC,OAAOmC,QAAU,EAAI,EAClCjI,GAAIgC,EACJ/B,MAAMA,EACN2D,SAASA,GACb,KAER,EAAA5E,EAAAkF,KAAC,QAAKoB,UAAW,gCA5BI,MACrB,OAAQ1B,GACJ,IAAK,YACD,MAAO,SACX,IAAK,OACD,MAAO,YACX,IAAK,SACD,MAAO,WACX,IAAK,MACD,MAAO,UACX,IAAK,WACD,MAAO,YACX,QACI,MAAO,GACf,EAciDsE,GAAoB,UAAQ,kCAC7E,EAAAlJ,EAAAkF,KAAC,MAAGoB,UAAU,kBAAkB,UAAQ,kB,SACvCrF,KAED,EAAAjB,EAAAkF,KAACiE,EAAA5H,QAAK,CAAE+E,UAAU,6CAA6CJ,KAAK,GAAGX,OAAO,wBAAwBwC,KAAK,YACvGxB,QAAS,IAAM+B,EAAW,CACtB3D,UAAUA,EACV3D,GAAIgC,EACJ/B,MAAMA,EACN2D,SAASA,OAEjB,EAAA5E,EAAAkF,KAACiE,EAAA5H,QAAK,CAAE+E,UAAU,uDAAuDJ,KAAK,GAAGX,OAAO,0BAA0BwC,KAAK,cACnHxB,QAAS,IAAInD,EAAeJ,EAAK/B,OAG7C,C,qECjDA,IAAAjB,EAAAC,EAAA,SAWe,SAAAmJ,GAAgB9C,UAACA,EAASJ,KAAEA,EAAIX,OAAEA,EAAMwC,KAAEA,EAAIxB,QAAEA,EAAO8C,WAAEA,IAExE,OACI,EAAArJ,EAAAgF,MAAC,UAAOsB,UAAW,OAAOA,EAAU,KAAK+C,EAAa,WAAa,IAAO,UAAS9D,EAAQgB,QAASA,EAAS+C,SAAUD,E,UAClHtB,GAAO,EAAA/H,EAAAkF,KAAC,QAAKoB,UAAWyB,IAAgB,GACxC7B,IAGT,C,+ECnBA,IAAAlG,EAAAC,EAAA,S,oDAQe,SAAAsJ,GAAejD,UAACA,EAASf,OAAEA,EAAMF,OAAEA,EAAMC,QAAEA,EAAOE,SAAEA,IAEnE,MAAO6D,EAAYG,GAAiB9I,EAAAC,GAAMI,UAAkB,IAErD0I,EAAUC,GAAehJ,EAAAC,GAAMI,SAAyB,CAC3DE,MAAM,GACN2D,SAAS,cAoCb,OACI,EAAA5E,EAAAgF,MAAC,OAAIsB,UAAW,mBAAmBA,EAAU,KAAKjB,EAAS,SAAW,I,WAClE,EAAArF,EAAAkF,KAAC,OAAIoB,UAAU,WAAWC,QAAS,IAAIjB,GAAQ,MAC/C,EAAAtF,EAAAgF,MAAC,OAAIsB,UAAW,kBAAmB,UAASf,E,WACxC,EAAAvF,EAAAgF,MAAC,OAAIsB,UAAU,e,WACX,EAAAtG,EAAAkF,KAAC,MAAGoB,UAAU,kBAAkB,UAAQ,kB,SAAkB,sBAC1D,EAAAtG,EAAAkF,KAAC4C,EAAAvG,QAAK,CAAE+E,UAAU,sDAAsDJ,KAAK,GAAGX,OAAO,yBAAyBwC,KAAK,aACjHxB,QAAS,IAAIjB,GAAQ,SAE7B,EAAAtF,EAAAgF,MAAC,OAAIsB,UAAU,a,WACX,EAAAtG,EAAAgF,MAAC,OAAIsB,UAAU,c,WACX,EAAAtG,EAAAkF,KAAC,SAAMoB,UAAU,oBACb,UAAQ,sB,SAAsB,oBAClC,EAAAtG,EAAAkF,KAAC,SAAMoB,UAAU,oBAAoBc,KAAK,OACtCuC,YAAY,0BACZnD,MAAO,CAACC,MAAO,qBACfE,MAAO8C,EAASxI,MAChB2F,SAlDIC,IACxB,MAAM+C,GAAW,EAAAtF,EAAAuF,WAAUhD,EAAEC,OAAOH,OACpCE,EAAEC,OAAOH,MAAQiD,EACI,MAAlB,EAAAtF,EAAA0C,MAAK4C,GAAiBJ,GAAc,GAClCA,GAAc,GAEnBE,EAAY,CACRzI,MAAO2I,EACPhF,SAAU6E,EAAS7E,UACvB,EA0CoB,UAAQ,6BAGhB,EAAA5E,EAAAgF,MAAC,OAAIsB,UAAU,c,WACX,EAAAtG,EAAAkF,KAAC,SAAMoB,UAAU,oBACb,UAAQ,2B,SAA4B,cACxC,EAAAtG,EAAAkF,KAACiC,EAAA5F,QAAW,CACRoF,MAAO8C,EAAS7E,SAChBgC,SA/COD,IAC3B+C,EAAY,CACRzI,MAAOwI,EAASxI,MAChB2D,SAAU+B,GACd,EA4CoBpB,OAAO,8BACP6B,KAAK,SACL0C,UAAW,IACXlC,QAAS,CACL,CACIC,IAAK,YACLlB,OAAO,EAAA3G,EAAAgF,MAAAhF,EAAAiF,SAAA,C,WAAE,EAAAjF,EAAAkF,KAAC,QAAK,UAAQ,0BAA0BoB,UAAU,8BAA6B,gBAE5F,CACIuB,IAAK,OACLlB,OAAO,EAAA3G,EAAAgF,MAAAhF,EAAAiF,SAAA,C,WAAE,EAAAjF,EAAAkF,KAAC,QAAK,UAAQ,0BAA0BoB,UAAU,iCAAgC,WAE/F,CACIuB,IAAK,SACLlB,OAAO,EAAA3G,EAAAgF,MAAAhF,EAAAiF,SAAA,C,WAAE,EAAAjF,EAAAkF,KAAC,QAAK,UAAQ,0BAA0BoB,UAAU,gCAA+B,aAE9F,CACIuB,IAAK,MACLlB,OAAO,EAAA3G,EAAAgF,MAAAhF,EAAAiF,SAAA,C,WAAE,EAAAjF,EAAAkF,KAAC,QAAK,UAAQ,0BAA0BoB,UAAU,+BAA8B,UAE7F,CACIuB,IAAK,WACLlB,OAAO,EAAA3G,EAAAgF,MAAAhF,EAAAiF,SAAA,C,WAAE,EAAAjF,EAAAkF,KAAC,QAAK,UAAQ,0BAA0BoB,UAAU,iCAAgC,yBAM/G,EAAAtG,EAAAkF,KAAC,OAAIoB,UAAU,e,UAKX,EAAAtG,EAAAkF,KAAC,UAAOoB,UAAW,gDACf,UAAS,wBACTC,QA5EI,KACpBf,EAAS,CACLvE,OAAO,EAAAqD,EAAA0C,MAAKyC,EAASxI,OACrB2D,SAAU6E,EAAS7E,WAIvB8E,EAAY,CACRzI,MAAM,GACN2D,SAAS,cAEb4E,GAAc,EAAI,EAiEwBF,SAAUD,E,SAAY,kBAOpE,C,qECvHA,IAAArJ,EAAAC,EAAA,S,uCAiBe,SAAA8J,EAAsBC,GAErC,MAAM5E,EAAM1E,EAAAC,GAAMsJ,aAEXlF,EAAOmF,GAAYxJ,EAAAC,GAAMI,UAAkB,IAE3CoJ,EAAUC,GAAe1J,EAAAC,GAAMI,SAAiB,IAEvD,EAAAJ,EAAAiC,YAAU,KACN,GAAIoH,EAAMrD,MAKV,CACI,MAAM0D,GAAM,EAAA/F,EAAAE,WAAUwF,EAAMpC,SAASnD,GAAKA,EAAEoD,KAAOmC,EAAMrD,QACzDyD,EAAYC,EAChB,MANIL,EAAMrD,MAAQqD,EAAMpC,QAAQuC,GAAUtC,GAM1C,GAEF,CAACmC,EAAMrD,QAET,MAAM2D,EAAc,KACbvF,EAAOK,EAAI7B,SAASgH,OAClBnF,EAAI7B,SAASwB,OAAA,EAQhByF,EAASR,EAAMF,UAAYE,EAAMF,UAAY,IAEnD,OACA,EAAA9J,EAAAgF,MAAC,OAAIsB,UAAW,gCAAgC0D,EAAM5C,KAAK,IAAI4C,EAAM1D,U,UAE9C,WAAf0D,EAAM5C,MACN,EAAApH,EAAAkF,KAAC4C,EAAAvG,QAAK,CAAE+E,UAAU,0DAA0DJ,KAAK,GAAGX,OAAO,mBAAmBwC,KAAK,YAC/GxB,QAAS+D,KAGb,EAAAtK,EAAAkF,KAAC,OAAIoB,UAAU,uBAAuBE,MAAO,CAACC,MAAO+D,GACjDjE,QAAS+D,EACT,UAASN,EAAMzE,O,SAEdyE,EAAMpC,QAAQuC,GAAUxD,SAGjC,EAAA3G,EAAAkF,KAAC,UAAOE,IAAKA,EAAKkB,UAAU,gBACxBmE,QAAS,IAAIP,GAAS,GACtBnD,OAAQ,KACJjC,YAAW,KACPoF,GAAS,EAAK,GACf,M,SAGNF,EAAMpC,QAAQQ,KAAI3D,IAAK,EAAAzE,EAAAkF,KAAC,UAAmByB,MAAOlC,EAAEoD,KAAhBpD,EAAEoD,UAE3C,EAAA7H,EAAAkF,KAAC,MAAGoB,UAAW,qBACIvB,EAAQ,UAAU,IAEjCyB,MAAO,CAACC,MAAM+D,G,SAEbR,EAAMpC,QAAQQ,KAAI,CAAC3D,EAAGiG,KACnB,EAAA1K,EAAAkF,KAAC,MAAGoB,UAAW0D,EAAOrD,OAAOlC,EAAEoD,IAAO,WAAa,GAC/CtB,QAAS,KAAIoE,OAtCzBP,EADcQ,EAuCoBF,QArClCV,EAAMpD,SAASoD,EAAMpC,QAAQgD,GAAO/C,KAFvB,IAAC+C,CAuCoB,EAEtB,UAASnG,EAAEc,O,SACTd,EAAEkC,OAFClC,EAAEoD,WAMvB,C,qECzFA,IAAA7H,EAAAC,EAAA,S,wDAsIA4K,EA9HkBnK,EAAAC,GAAMmK,YAAY,EAACxE,UAACA,EAASf,OAAEA,EAAMF,OAAEA,EAAMC,QAAEA,EAAOE,SAAEA,GAA0FJ,KAEpK,MAAOiE,EAAYG,GAAiB9I,EAAAC,GAAMI,UAAkB,IAErD0I,EAAUC,GAAehJ,EAAAC,GAAMI,SAAuB,CACzDC,IAAI,EACJ2D,UAAW,EACX1D,MAAM,GACN2D,SAAS,cAGblE,EAAAC,GAAMoK,oBAAoB3F,GAAK,KAAO,CAClC5B,YAAYF,GACRoG,EAAYpG,GACO,KAAhBA,EAAMrC,MAAcuI,GAAc,GAChCA,GAAc,EACvB,MA0CJ,OACI,EAAAxJ,EAAAkF,KAAC,OAAIoB,UAAW,mBAAmBA,EAAU,KAAKjB,EAAS,SAAW,I,UAClE,EAAArF,EAAAgF,MAAC,OAAIsB,UAAW,kBAAmB,cAAaf,E,WAC5C,EAAAvF,EAAAgF,MAAC,OAAIsB,UAAU,e,WACX,EAAAtG,EAAAkF,KAAC,MAAGoB,UAAU,kBAAkB,cAAY,kB,SAAkB,eAC9D,EAAAtG,EAAAkF,KAAC4C,EAAAvG,QAAK,CAAE+E,UAAU,sDAAsDJ,KAAK,GACzEX,OAAO,0BACPwC,KAAK,aACLxB,QAAS,IAAIjB,GAAQ,SAE7B,EAAAtF,EAAAgF,MAAC,OAAIsB,UAAU,a,WACX,EAAAtG,EAAAgF,MAAC,OAAIsB,UAAU,c,WACX,EAAAtG,EAAAkF,KAAC,SAAMoB,UAAU,oBACb,cAAY,sB,SAAsB,oBACtC,EAAAtG,EAAAkF,KAAC,SAAMoB,UAAU,oBAAoBc,KAAK,OACtCuC,YAAY,0BACZnD,MAAO,CAACC,MAAO,qBACfE,MAAO8C,EAASxI,MAChB2F,SAzDIC,IACxB,MAAM+C,GAAW,EAAAtF,EAAAuF,WAAUhD,EAAEC,OAAOH,OACpCE,EAAEC,OAAOH,MAAQiD,EACG,MAAjB,EAAAtF,EAAA0C,MAAK4C,GAAgBJ,GAAc,GACjCA,GAAc,GAEnBE,EAAY,CACR1I,GAAIyI,EAASzI,GACb2D,UAAW8E,EAAS9E,UACpB1D,MAAO2I,EACPhF,SAAU6E,EAAS7E,UACvB,EA+CoB,cAAY,6BAGpB,EAAA5E,EAAAgF,MAAC,OAAIsB,UAAU,c,WACX,EAAAtG,EAAAkF,KAAC,SAAMoB,UAAU,oBACb,cAAY,2B,SAA2B,cAC3C,EAAAtG,EAAAkF,KAACiC,EAAA5F,QAAW,CACRoF,MAAO8C,EAAS7E,SAChBgC,SApDOD,IAC3B+C,EAAY,CACR1I,GAAIyI,EAASzI,GACb2D,UAAW8E,EAAS9E,UACpB1D,MAAOwI,EAASxI,MAChB2D,SAAU+B,GACd,EAgDoBS,KAAK,SACL0C,UAAW,IACXlC,QAAS,CACL,CACIC,IAAK,YACLlB,OAAO,EAAA3G,EAAAgF,MAAAhF,EAAAiF,SAAA,C,WAAE,EAAAjF,EAAAkF,KAAC,QAAKoB,UAAU,8BAA6B,gBAE1D,CACIuB,IAAK,OACLlB,OAAO,EAAA3G,EAAAgF,MAAAhF,EAAAiF,SAAA,C,WAAE,EAAAjF,EAAAkF,KAAC,QAAKoB,UAAU,iCAAgC,WAE7D,CACIuB,IAAK,SACLlB,OAAO,EAAA3G,EAAAgF,MAAAhF,EAAAiF,SAAA,C,WAAE,EAAAjF,EAAAkF,KAAC,QAAKoB,UAAU,gCAA+B,aAE5D,CACIuB,IAAK,MACLlB,OAAO,EAAA3G,EAAAgF,MAAAhF,EAAAiF,SAAA,C,WAAE,EAAAjF,EAAAkF,KAAC,QAAKoB,UAAU,+BAA8B,UAE3D,CACIuB,IAAK,WACLlB,OAAO,EAAA3G,EAAAgF,MAAAhF,EAAAiF,SAAA,C,WAAE,EAAAjF,EAAAkF,KAAC,QAAKoB,UAAU,iCAAgC,yBAM7E,EAAAtG,EAAAkF,KAAC,OAAIoB,UAAU,e,UACX,EAAAtG,EAAAkF,KAAC4C,EAAAvG,QAAK,CAAE+E,UAAU,4CAA4CJ,KAAK,SAC/DX,OAAO,yBACPgB,QA3EI,KACpBf,EAAS,CACLxE,GAAIyI,EAASzI,GACbC,OAAO,EAAAqD,EAAA0C,MAAKyC,EAASxI,OACrB2D,SAAU6E,EAAS7E,WAIvB8E,EAAY,CACR1I,GAAIyI,EAASzI,GACb2D,UAAW8E,EAAS9E,UACpB1D,MAAM,GACN2D,SAAS,aACb,EA+DgByE,WAAYA,U,yCC9HhC,IAoBO2B,E,IAAK3I,E,kCAAAA,EAAA2I,MAAA,KACR,OAAS,SADD3I,EAER,OAAS,SAFDA,EAGR,GAAK,KAHGA,EAIR,GAAK,KAJGA,EAKR,WAAa,Y","sources":["src/Page/Activity.tsx","node_modules/@parcel/runtime-js/lib/runtime-75278bc260c1e4f5.js","src/Component/todoitem.tsx","src/Component/button.tsx","src/Component/modal-add.tsx","src/Component/custom-select.tsx","src/Component/modal-edit.tsx","src/util/types.d.ts"],"sourcesContent":["import React, { useEffect } from \"react\"\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport { remove, cloneDeep, trim, findIndex, orderBy } from \"lodash\"\r\nimport Button from \"../Component/Button\"\r\nimport Layout from \"../Layout\"\r\nimport emptyImage from \"../images/empty-item.png\"\r\nimport TodoItem from \"../Component/todoitem\"\r\nimport Modal from \"../Component/modal-add\"\r\nimport ModalEdit from \"../Component/modal-edit\"\r\nimport CustomSelect from \"../Component/custom-select\"\r\nimport Alert from \"../Component/alert\"\r\n\r\nimport ModalDelete from \"../Component/modal-delete\"\r\nimport UseModal from \"../util/UseModal\"\r\n\r\nimport { TodoDataTambah, ToDoItem, TodoDataEdit, SortOrder } from \"../util/types.d\"\r\n\r\ninterface DataTodo {\r\n    id: number,\r\n    title: string,\r\n    created_at: string,\r\n    todo_items: ToDoItem[]\r\n}\r\n\r\nexport default function Activity() {\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const params = useParams()\r\n\r\n    const ModalEditRef = React.useRef();\r\n\r\n    const [data, setData] = React.useState<DataTodo>({id:-1, title:'', created_at:'', todo_items:[]});\r\n\r\n    const [isShowAlert, setShowAlert] = UseModal()\r\n\r\n    const [isShowDeleteModal, setShowDeleteModal] = UseModal()\r\n\r\n    const [isShowEditModal, setShowEditModal] = UseModal()\r\n\r\n    const [isShowAddModal, setShowAddModal] = UseModal()\r\n\r\n    const [idDelete, setIdDelete] = React.useState<number>(-1)\r\n\r\n    const [titleDelete, setTitleDelete] = React.useState<string>('')\r\n\r\n    const [sortOrder, setSortOrder] = React.useState<SortOrder>(SortOrder.LATEST)\r\n\r\n    const [isEditTitle, setIsEditTitle] = React.useState<boolean>(false)\r\n\r\n    const [activityTitle, setActivityTitle] = React.useState<string>('')\r\n\r\n    // const titleInputRef = React.createRef<HTMLInputElement>()\r\n    const titleInputRef = React.useRef<HTMLInputElement>(null)\r\n\r\n    useEffect(()=> {\r\n        async function getData() \r\n        {\r\n            const response = await fetch('https://todo.api.devcode.gethired.id/activity-groups/'+params.uid)\r\n\r\n            let actualData = await response.json();\r\n\r\n            setActivityTitle(actualData.title)\r\n\r\n            setData(actualData)\r\n        }\r\n\r\n        getData()\r\n    },[])\r\n\r\n    const OnBeforeTambah = () => {\r\n        setShowAddModal(true)\r\n    }\r\n\r\n    const OnTambah = async (jsonData: TodoDataTambah) => {\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                \"activity_group_id\": params.uid, ...jsonData\r\n            })\r\n        };\r\n        const response = await fetch('https://todo.api.devcode.gethired.id/todo-items', requestOptions);\r\n\r\n        const actualData = await response.json();\r\n\r\n        if (!response.ok) {\r\n            // get error message from body or default to response status\r\n            const error = response.status;\r\n            return Promise.reject(error);\r\n        }\r\n\r\n        const newItem = [{\r\n            \"id\": actualData.id,\r\n            \"title\": actualData.title,\r\n            \"activity_group_id\": actualData.activity_group_id,\r\n            \"is_active\": actualData.is_active,\r\n            \"priority\": actualData.priority,\r\n        }].concat(data.todo_items) \r\n\r\n        setData({\r\n            id: data.id,\r\n            title: data.title,\r\n            created_at: data.created_at,\r\n            todo_items: newItem\r\n        }) \r\n\r\n        setShowAddModal(false)\r\n    }\r\n\r\n    const OnBeforeDelete = (id:number, title:string) => {\r\n        setIdDelete(id)\r\n        setTitleDelete(title)\r\n        setShowDeleteModal(true)\r\n    }\r\n\r\n    const OnDeleteConfirm = () => {\r\n        setIdDelete(-1)\r\n        setShowDeleteModal(false)\r\n\r\n        const requestOptions = {\r\n            method: 'DELETE',\r\n        };\r\n        fetch('https://todo.api.devcode.gethired.id/todo-items/'+idDelete, requestOptions)\r\n            .then(()=>{\r\n\r\n                /// Delete it\r\n                var newTodos = cloneDeep(data.todo_items)\r\n\r\n                newTodos = remove(newTodos, (x) => x.id !== idDelete)\r\n\r\n                setData({\r\n                    id: data.id,\r\n                    title: data.title,\r\n                    created_at: data.created_at,\r\n                    todo_items: newTodos\r\n                }) \r\n\r\n                setShowAlert(true)\r\n            })\r\n    }\r\n\r\n    const OnEdit = (param: TodoDataEdit) => {\r\n        ModalEditRef.current?.ResetFields(param)\r\n\r\n        setShowEditModal(true)\r\n    }\r\n\r\n    const OnUpdate = async (param: TodoDataEdit) => {\r\n        if(param.title === '') return\r\n\r\n        const requestOptions = {\r\n            method: 'PATCH',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(param)\r\n        };\r\n        \r\n        const response = await fetch('https://todo.api.devcode.gethired.id/todo-items/'+param.id, requestOptions);\r\n\r\n        const actualData = await response.json();\r\n\r\n        if (!response.ok) {\r\n            // get error message from body or default to response status\r\n            const error = response.status;\r\n            return Promise.reject(error);\r\n        }\r\n\r\n        var todos = cloneDeep(data.todo_items)\r\n\r\n        const idx = findIndex(todos, x => x.id===param.id)\r\n\r\n        todos[idx] = {\r\n            \"id\": actualData.id,\r\n            \"title\": actualData.title,\r\n            \"activity_group_id\": actualData.activity_group_id,\r\n            \"is_active\": actualData.is_active,\r\n            \"priority\": actualData.priority,\r\n        }\r\n\r\n        setData({\r\n            id: data.id,\r\n            title: data.title,\r\n            created_at: data.created_at,\r\n            todo_items: todos\r\n        }) \r\n\r\n        setShowEditModal(false)\r\n    }\r\n\r\n    const OnSetSortOrder = (param:string) => {\r\n        if(param === sortOrder) return\r\n\r\n        const order = param as SortOrder\r\n\r\n        setSortOrder(order)\r\n\r\n        var todos = cloneDeep(data.todo_items)\r\n\r\n        switch(order)\r\n        {\r\n            case SortOrder.LATEST:\r\n                todos = orderBy(todos, ['id'], ['desc'])\r\n                break;\r\n            case SortOrder.OLDEST:\r\n                todos = orderBy(todos, ['id'], ['asc'])\r\n                break;\r\n            case SortOrder.AZ:\r\n                todos = orderBy(todos, [todos => todos.title.toLowerCase()], ['asc'])\r\n                break;\r\n            case SortOrder.ZA:\r\n                todos = orderBy(todos, [todos => todos.title.toLowerCase()], ['desc'])\r\n                break;\r\n            case SortOrder.UNFINISHED:\r\n                todos = orderBy(todos, ['id'], ['desc'])\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n\r\n        setData({\r\n            id: data.id,\r\n            title: data.title,\r\n            created_at: data.created_at,\r\n            todo_items: todos\r\n        }) \r\n    }\r\n\r\n    const ToggleEditTitle = () => {\r\n        setIsEditTitle(true)\r\n        setTimeout(()=>{\r\n            titleInputRef.current?.focus()\r\n        }, 100) /// Delay to let React render it first\r\n    }\r\n\r\n    const OnBlurEditActivityTitle = async (e) => {\r\n        const title = trim(e.target.value)\r\n\r\n        setIsEditTitle(false)\r\n\r\n        const requestOptions = {\r\n            method: 'PATCH',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                title: title\r\n            })\r\n        };\r\n        \r\n        await fetch('https://todo.api.devcode.gethired.id/activity-groups/'+data.id, requestOptions)\r\n            .then(()=>{\r\n                console.log(title)\r\n            })\r\n    }\r\n    \r\n\r\nreturn(\r\n<>\r\n    <ModalEdit ref={ModalEditRef} isShow={isShowEditModal} setShow={setShowEditModal} dataCy=\"modal-add\" OnSubmit={OnUpdate} />\r\n    <Modal isShow={isShowAddModal} setShow={setShowAddModal} dataCy=\"modal-add\" OnSubmit={OnTambah} />\r\n    <ModalDelete \r\n        OnDeleteConfirm={OnDeleteConfirm} \r\n        isShow={isShowDeleteModal} setShow={setShowDeleteModal}  text=\"Apakah anda yakin menghapus List Item\" itemname={titleDelete} />\r\n    <Alert isShow={isShowAlert} setShow={setShowAlert} text=\"Item berhasil dihapus\"/>\r\n    <Layout>\r\n        <div className=\"todo-header\">\r\n            <button className='btn btn-light btn-simple todo-back-button' data-cy='todo-back-button'\r\n                onClick={()=>navigate(-1)}>\r\n                <span className='icon-back' style={{width: '32px',height: '32px'}}></span>\r\n            </button>\r\n            {\r\n                isEditTitle ? \r\n                <input ref={titleInputRef} className=\"activity-title-edit\" value={activityTitle} \r\n                    onChange={(e)=>setActivityTitle(e.target.value)}\r\n                    onBlur={OnBlurEditActivityTitle} />\r\n                :\r\n                <h1 className=\"todo-title\" data-cy=\"todo-title\"\r\n                    onClick={ToggleEditTitle} >{activityTitle}</h1>\r\n            }\r\n            <button className='btn btn-light btn-simple todo-title-edit-button' data-cy='todo-title-edit-button'\r\n                onClick={ToggleEditTitle}>\r\n                <span className='icon-edit'></span>\r\n            </button>\r\n            {/* <Button className=\"ml-auto btn-alternative btn-circle activity-sort-button\" text='' dataCy='activity-sort-button' icon='icon-sort' /> */}\r\n            <CustomSelect\r\n                value={sortOrder}\r\n                className='ml-auto'\r\n                type=\"button\"\r\n                onChange={OnSetSortOrder}\r\n                options={[\r\n                    {\r\n                        key: 'latest',\r\n                        value: <><span className='icon-sort-newest wh-18 mr-15'/>Terbaru</>,\r\n                        dataCy: 'sort-selection'\r\n                    },\r\n                    {\r\n                        key: 'oldest',\r\n                        value: <><span className='icon-sort-oldest wh-18 mr-15'/>Terlama</>,\r\n                        dataCy: 'sort-selection'\r\n                    },\r\n                    {\r\n                        key: 'az',\r\n                        value: <><span className='icon-sort-az wh-18 mr-15'/>A-Z</>,\r\n                        dataCy: 'sort-selection'\r\n                    },\r\n                    {\r\n                        key: 'za',\r\n                        value: <><span className='icon-sort-za wh-18 mr-15'/>Z-A</>,\r\n                        dataCy: 'sort-selection'\r\n                    },\r\n                    {\r\n                        key: 'unfinished',\r\n                        value: <><span className='icon-sort-unfinished wh-18 mr-15'/>Belum Selesai</>,\r\n                        dataCy: 'sort-selection'\r\n                    }\r\n                ]}\r\n            />\r\n            <Button className=\"btn-primary\" text='Tambah' dataCy='todo-add-button' onClick={OnBeforeTambah} icon=\"icon-plus\" />\r\n        </div>\r\n        <div className=\"activity-content\">\r\n            {\r\n                data.todo_items.length == 0 ?\r\n                <div className=\"todo-empty-state\" data-cy=\"todo-empty-state\">\r\n                    <img src={emptyImage} alt=\"empty\" />    \r\n                </div>\r\n                :\r\n                data.todo_items.map(x => \r\n                    (SortOrder.UNFINISHED === sortOrder && x.is_active === 0) ?\r\n                    ''\r\n                    :\r\n                    <TodoItem \r\n                        key={x.id} \r\n                        uid={x.id}\r\n                        title={x.title}\r\n                        is_active={x.is_active}\r\n                        priority={x.priority}\r\n                        toggleEdit={OnEdit}\r\n                        toggleUpdate={OnUpdate}\r\n                        OnBeforeDelete={OnBeforeDelete} />\r\n                )\r\n            }\r\n        </div>\r\n    </Layout>\r\n</>\r\n)\r\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9XZxD\")).toString();","import React from 'react'\r\nimport Button from './button'\r\nimport './todoitem.css'\r\n\r\nexport default function TodoItem({uid, title, OnBeforeDelete, priority, is_active, toggleEdit, toggleUpdate}:{uid:number, title:string, OnBeforeDelete:any, priority:string, is_active:number, toggleEdit?:any, toggleUpdate?:any}) {\r\n\r\n    const GetPriorityClass = () => {\r\n        switch (priority) {\r\n            case 'very-high':\r\n                return 'bg-red'\r\n            case 'high':\r\n                return 'bg-yellow'\r\n            case 'normal':\r\n                return 'bg-green'\r\n            case 'low':\r\n                return 'bg-cyan'\r\n            case 'very-low':\r\n                return 'bg-purple'\r\n            default:\r\n                return ''\r\n        }\r\n    }\r\n\r\nreturn (\r\n    <div className='todo-item' data-cy='todo-item' >\r\n        <input className='todo-item-checkbox' data-cy='todo-item-checkbox' type='checkbox' checked={is_active==0} \r\n            onChange={(e)=>{\r\n                toggleUpdate({\r\n                    is_active: e.target.checked ? 0 : 1,\r\n                    id: uid,\r\n                    title:title,\r\n                    priority:priority\r\n                })\r\n            }}/>\r\n        <span className={'todo-item-priority-indicator '+GetPriorityClass()} data-cy='todo-item-priority-indicator' />\r\n        <h2 className='todo-item-title' data-cy='todo-item-title'>\r\n        {title}\r\n        </h2>\r\n        <Button className=\"btn-light btn-simple todo-item-edit-button\" text='' dataCy='todo-item-edit-button' icon='icon-edit'\r\n            onClick={() => toggleEdit({\r\n                is_active:is_active,\r\n                id: uid,\r\n                title:title,\r\n                priority:priority\r\n            })} />\r\n        <Button className=\"ml-auto btn-light btn-simple todo-item-delete-button\" text='' dataCy='todo-item-delete-button' icon='icon-delete'\r\n            onClick={()=>OnBeforeDelete(uid, title)} />\r\n    </div>\r\n)\r\n}","import React from 'react'\r\n\r\ninterface ButtonProp {\r\n    className:string, \r\n    text:string, \r\n    dataCy:string, \r\n    icon?:string,\r\n    onClick?:any,\r\n    isDisabled?:boolean\r\n}\r\n\r\nexport default function Button({className, text, dataCy, icon, onClick, isDisabled}:ButtonProp) {\r\n    \r\nreturn (\r\n    <button className={'btn '+className+\" \"+(isDisabled ? 'disabled' : ''  )} data-cy={dataCy} onClick={onClick} disabled={isDisabled}>\r\n        {icon ? <span className={icon}></span> : ''}\r\n        {text}\r\n    </button>\r\n)\r\n}","import React from \"react\"\r\nimport Button from \"./Button\"\r\nimport \"./modal-add.css\"\r\nimport CustomSelect from \"./custom-select\"\r\nimport { trim, trimStart } from \"lodash\"\r\n\r\nimport {TodoDataTambah} from \"../util/types\"\r\n\r\nexport default function Modal({className, dataCy, isShow, setShow, OnSubmit}:{className?:string, dataCy:string, isShow:boolean, setShow?:any, OnSubmit:any}) {\r\n\r\nconst [isDisabled, setIsDisabled] = React.useState<boolean>(true)\r\n\r\nconst [formdata, setFormdata] = React.useState<TodoDataTambah>({\r\n    title:'',\r\n    priority:'very-high'\r\n})\r\n\r\nconst OnTitleFieldChange = (e:any) => {\r\n    const newvalue = trimStart(e.target.value)\r\n    e.target.value = newvalue\r\n    if(trim(newvalue) ==='') setIsDisabled(true)\r\n    else setIsDisabled(false)\r\n\r\n    setFormdata({\r\n        title: newvalue,\r\n        priority: formdata.priority\r\n    })\r\n}\r\n\r\nconst OnPriorityFieldChange = (value:string) => {\r\n    setFormdata({\r\n        title: formdata.title,\r\n        priority: value\r\n    })\r\n}\r\n\r\nconst OnSimpanConfirm = () => {\r\n    OnSubmit({\r\n        title: trim(formdata.title),\r\n        priority: formdata.priority\r\n    })\r\n\r\n    /// Reset Value\r\n    setFormdata({\r\n        title:'',\r\n        priority:'very-high'\r\n    })\r\n    setIsDisabled(true)\r\n}\r\n\r\nreturn (\r\n    <div className={\"modal-container \"+className+\" \"+(isShow ? 'active' : '')}>\r\n        <div className=\"modal-bg\" onClick={()=>setShow(false)} ></div>\r\n        <div className={'modal modal-add'} data-cy={dataCy}>\r\n            <div className=\"modal-header\">\r\n                <h2 className=\"modal-add-title\" data-cy=\"modal-add-title\">Tambah List Item</h2>\r\n                <Button className=\"ml-auto btn-light btn-simple modal-add-close-button\" text='' dataCy='modal-add-close-button' icon='icon-close' \r\n                    onClick={()=>setShow(false)}/>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n                <div className=\"input-group\">\r\n                    <label className=\"input-group-label\"\r\n                        data-cy=\"modal-add-name-item\">NAMA LIST ITEM</label>\r\n                    <input className=\"input-group-input\" type=\"text\"  \r\n                        placeholder=\"Tambahkan nama Activity\"\r\n                        style={{width: 'calc(100% - 36px)'}}\r\n                        value={formdata.title}\r\n                        onChange={OnTitleFieldChange}\r\n                        data-cy=\"modal-add-name-input\"\r\n                         />\r\n                </div>\r\n                <div className=\"input-group\">\r\n                    <label className=\"input-group-label\"\r\n                        data-cy=\"modal-add-priority-title\" >PRIORITY</label>\r\n                    <CustomSelect \r\n                        value={formdata.priority}\r\n                        onChange={OnPriorityFieldChange}\r\n                        dataCy=\"modal-add-priority-dropdown\"\r\n                        type=\"select\"\r\n                        widthSize={205}\r\n                        options={[\r\n                            {\r\n                                key: 'very-high',\r\n                                value: <><span data-cy=\"modal-add-priority-item\" className='priority-indicator bg-red'/>Very High</>\r\n                            },\r\n                            {\r\n                                key: 'high',\r\n                                value: <><span data-cy=\"modal-add-priority-item\" className='priority-indicator bg-yellow'/>High</>\r\n                            },\r\n                            {\r\n                                key: 'normal',\r\n                                value: <><span data-cy=\"modal-add-priority-item\" className='priority-indicator bg-green'/>Medium</>\r\n                            },\r\n                            {\r\n                                key: 'low',\r\n                                value: <><span data-cy=\"modal-add-priority-item\" className='priority-indicator bg-cyan'/>Low</>\r\n                            },\r\n                            {\r\n                                key: 'very-low',\r\n                                value: <><span data-cy=\"modal-add-priority-item\" className='priority-indicator bg-purple'/>Very Low</>\r\n                            }\r\n                        ]}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n                {/* <Button className=\"\" text='Simpan' dataCy='modal-add-save-button'\r\n                    onClick={OnSimpanConfirm} \r\n                    isDisabled={isDisabled}\r\n                /> */}\r\n                <button className={\"btn ml-auto btn-primary modal-add-save-button\"} \r\n                    data-cy={'modal-add-save-button'} \r\n                    onClick={OnSimpanConfirm} disabled={isDisabled}>\r\n                    Simpan\r\n                </button>\r\n            </div>\r\n        </div>    \r\n    </div>\r\n)\r\n}","import { findIndex } from \"lodash\"\r\nimport React, { useEffect } from \"react\"\r\nimport Button from \"./Button\"\r\nimport \"./custom-select.css\"\r\n\r\ntype KeyValueOption = {key:string, value:React.ReactNode, dataCy?:string }\r\n\r\ninterface SelectInterface {\r\n    type: string,\r\n    widthSize?: number,\r\n    className?:string,\r\n    value?:string,\r\n    onChange?:any,\r\n    dataCy?:string,\r\n    options: [KeyValueOption, ...KeyValueOption[]]\r\n}\r\n\r\nexport default function CustomSelect(props:SelectInterface) {\r\n\r\nconst ref = React.createRef<HTMLSelectElement>();\r\n\r\nconst [focus, setFocus] = React.useState<boolean>(false)\r\n\r\nconst [selected, setSelected] = React.useState<number>(0)\r\n\r\nuseEffect(()=>{\r\n    if(!props.value)\r\n    {\r\n        props.value = props.options[selected].key\r\n    }\r\n    else\r\n    {\r\n        const idx = findIndex(props.options, x => x.key == props.value)\r\n        setSelected(idx)\r\n    }\r\n        \r\n},[props.value])\r\n\r\nconst ToggleFocus = () => {\r\n    if(focus) ref.current?.blur()\r\n    else ref.current?.focus()\r\n}\r\n\r\nconst OnSelect = (index:number) => {\r\n    setSelected(index)\r\n    props.onChange(props.options[index].key)\r\n}\r\n\r\nconst _width = props.widthSize ? props.widthSize : 235\r\n\r\nreturn (\r\n<div className={\"custom-select-container type-\"+props.type+\" \"+props.className}>\r\n    {\r\n        props.type === 'button' ?\r\n        <Button className=\"ml-auto btn-alternative btn-circle activity-sort-button\" text='' dataCy='todo-sort-button' icon='icon-sort'\r\n            onClick={ToggleFocus}\r\n        />\r\n        :\r\n        <div className=\"custom-select-toggle\" style={{width: _width}} \r\n            onClick={ToggleFocus}\r\n            data-cy={props.dataCy}\r\n            >\r\n            {props.options[selected].value}\r\n        </div>\r\n    }\r\n    <select ref={ref} className=\"custom-select\" \r\n        onFocus={()=>setFocus(true)}\r\n        onBlur={()=>{\r\n            setTimeout(() => {\r\n                setFocus(false)\r\n            }, 100);\r\n        }}\r\n        >\r\n        {props.options.map(x => <option key={x.key} value={x.key}></option>)}\r\n    </select>\r\n    <ul className={\"option-container \"\r\n                    + (focus ? 'active ':'')\r\n                }\r\n        style={{width:_width}}\r\n        >\r\n        {props.options.map((x, i) => \r\n            <li className={(props.value==x.key) ? 'selected' : ''} \r\n                onClick={()=>OnSelect(i)}\r\n                key={x.key}\r\n                data-cy={x.dataCy}\r\n                >{x.value}</li>\r\n        )}\r\n    </ul>\r\n</div>)\r\n}","import React from \"react\"\r\nimport Button from \"./Button\"\r\nimport \"./modal-edit.css\"\r\nimport CustomSelect from \"./custom-select\"\r\nimport { trim, trimStart } from \"lodash\"\r\n\r\nimport {TodoDataTambah, TodoDataEdit} from \"../util/types\"\r\n\r\nconst ModalEdit = React.forwardRef( ({className, dataCy, isShow, setShow, OnSubmit}:{className?:string, dataCy:string, isShow:boolean, setShow?:any, OnSubmit:any}, ref) => {\r\n\r\nconst [isDisabled, setIsDisabled] = React.useState<boolean>(true)\r\n\r\nconst [formdata, setFormdata] = React.useState<TodoDataEdit>({\r\n    id: -1,\r\n    is_active: 1,\r\n    title:'',\r\n    priority:'very-high'\r\n})\r\n\r\nReact.useImperativeHandle(ref, () => ({\r\n    ResetFields(param:TodoDataEdit){\r\n        setFormdata(param)\r\n        if(param.title !== '') setIsDisabled(false)\r\n        else setIsDisabled(true)\r\n    }\r\n}))\r\n\r\nconst OnTitleFieldChange = (e:any) => {\r\n    const newvalue = trimStart(e.target.value)\r\n    e.target.value = newvalue\r\n    if(trim(newvalue)==='') setIsDisabled(true)\r\n    else setIsDisabled(false)\r\n\r\n    setFormdata({\r\n        id: formdata.id,\r\n        is_active: formdata.is_active,\r\n        title: newvalue,\r\n        priority: formdata.priority\r\n    })\r\n}\r\n\r\nconst OnPriorityFieldChange = (value:string) => {\r\n    setFormdata({\r\n        id: formdata.id,\r\n        is_active: formdata.is_active,\r\n        title: formdata.title,\r\n        priority: value\r\n    })\r\n}\r\n\r\nconst OnSimpanConfirm = () => {\r\n    OnSubmit({\r\n        id: formdata.id,\r\n        title: trim(formdata.title),\r\n        priority: formdata.priority\r\n    })\r\n\r\n    /// Reset Value\r\n    setFormdata({\r\n        id: formdata.id,\r\n        is_active: formdata.is_active,\r\n        title:'',\r\n        priority:'very-high'\r\n    })\r\n}\r\n\r\nreturn (\r\n    <div className={\"modal-container \"+className+\" \"+(isShow ? 'active' : '')}>\r\n        <div className={'modal modal-add'} data-cy-old={dataCy}>\r\n            <div className=\"modal-header\">\r\n                <h2 className=\"modal-add-title\" data-cy-old=\"modal-add-title\">Edit Item</h2>\r\n                <Button className=\"ml-auto btn-light btn-simple modal-add-close-button\" text='' \r\n                    dataCy='modal-edit-close-button' \r\n                    icon='icon-close' \r\n                    onClick={()=>setShow(false)}/>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n                <div className=\"input-group\">\r\n                    <label className=\"input-group-label\"\r\n                        data-cy-old=\"modal-add-name-item\">NAMA LIST ITEM</label>\r\n                    <input className=\"input-group-input\" type=\"text\"  \r\n                        placeholder=\"Tambahkan nama Activity\"\r\n                        style={{width: 'calc(100% - 36px)'}}\r\n                        value={formdata.title}\r\n                        onChange={OnTitleFieldChange}\r\n                        data-cy-old=\"modal-add-name-input\"\r\n                         />\r\n                </div>\r\n                <div className=\"input-group\">\r\n                    <label className=\"input-group-label\"\r\n                        data-cy-old=\"modal-add-priority-title\">PRIORITY</label>\r\n                    <CustomSelect \r\n                        value={formdata.priority}\r\n                        onChange={OnPriorityFieldChange}\r\n                        // dataCy=\"modal-add-priority-dropdown\"\r\n                        type=\"select\"\r\n                        widthSize={205}\r\n                        options={[\r\n                            {\r\n                                key: 'very-high',\r\n                                value: <><span className='priority-indicator bg-red'/>Very High</>\r\n                            },\r\n                            {\r\n                                key: 'high',\r\n                                value: <><span className='priority-indicator bg-yellow'/>High</>\r\n                            },\r\n                            {\r\n                                key: 'normal',\r\n                                value: <><span className='priority-indicator bg-green'/>Medium</>\r\n                            },\r\n                            {\r\n                                key: 'low',\r\n                                value: <><span className='priority-indicator bg-cyan'/>Low</>\r\n                            },\r\n                            {\r\n                                key: 'very-low',\r\n                                value: <><span className='priority-indicator bg-purple'/>Very Low</>\r\n                            }\r\n                        ]}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n                <Button className=\"ml-auto btn-primary modal-add-save-button\" text='Simpan' \r\n                    dataCy='modal-edit-save-button'\r\n                    onClick={OnSimpanConfirm} \r\n                    isDisabled={isDisabled}\r\n                />\r\n            </div>\r\n        </div>    \r\n    </div>\r\n)\r\n})\r\n\r\nexport default ModalEdit","export type TodoDataTambah = {\r\n    title:string,\r\n    priority:string\r\n}\r\n\r\nexport type TodoDataEdit = {\r\n    id: number,\r\n    title:string,\r\n    is_active: number,\r\n    priority:string\r\n}\r\n\r\nexport type ToDoItem = {\r\n    id: number,\r\n    title: string,\r\n    activity_group_id: number,\r\n    is_active: number,\r\n    priority: string\r\n}\r\n\r\nexport enum SortOrder {\r\n    LATEST = 'latest',\r\n    OLDEST = 'oldest',\r\n    AZ = 'az',\r\n    ZA = 'za',\r\n    UNFINISHED = 'unfinished',\r\n  }"],"names":["$ayMG0","parcelRequire","$7478fb404793b718$export$2e2bcd8739ae039","navigate","$lzNIT","useNavigate","params","$aphAM","useParams","ModalEditRef","$parcel$interopDefault","$acw62","useRef","data","setData","useState","id","title","created_at","todo_items","isShowAlert","setShowAlert","$8PsrX","default","isShowDeleteModal","setShowDeleteModal","isShowEditModal","setShowEditModal","isShowAddModal","setShowAddModal","idDelete","setIdDelete","titleDelete","setTitleDelete","sortOrder","setSortOrder","$7iNiK","SortOrder","LATEST","isEditTitle","setIsEditTitle","activityTitle","setActivityTitle","titleInputRef","useEffect","async","response","fetch","uid","actualData","json","getData","OnBeforeDelete","OnEdit","param","current","ResetFields","OnUpdate","requestOptions","method","headers","body","JSON","stringify","ok","error","status","Promise","reject","todos","$f1q41","cloneDeep","findIndex","x","activity_group_id","is_active","priority","ToggleEditTitle","setTimeout","focus","jsxs","Fragment","jsx","$6DBKY","ref","isShow","setShow","dataCy","OnSubmit","$fhPm2","jsonData","newItem","concat","$b2je2","OnDeleteConfirm","then","newTodos","remove","text","itemname","$lhSjn","$d1VrR","className","onClick","style","width","height","value","onChange","e","target","onBlur","trim","console","log","$8K2Oq","type","order","orderBy","OLDEST","AZ","toLowerCase","ZA","UNFINISHED","options","key","$k5Zdv","icon","length","src","$3pDgf","alt","map","$8uLeK","toggleEdit","toggleUpdate","module","exports","URL","resolve","import","meta","url","toString","$70c1f1dd39d2e764$export$2e2bcd8739ae039","checked","GetPriorityClass","$11bCd","$ff0cf2de3c7412dc$export$2e2bcd8739ae039","isDisabled","disabled","$bc97e38958e2dc79$export$2e2bcd8739ae039","setIsDisabled","formdata","setFormdata","placeholder","newvalue","trimStart","widthSize","$c2dcf707fe706a5e$export$2e2bcd8739ae039","props","createRef","setFocus","selected","setSelected","idx","ToggleFocus","blur","_width","onFocus","i","OnSelect","index","$599f529af380428f$export$2e2bcd8739ae039","forwardRef","useImperativeHandle","$76dee234012e4339$export$7ae723045d45777a"],"version":3,"file":"Activity.a2557ed9.js.map"}