{"mappings":"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","sources":["src/Page/Activity.tsx","node_modules/@parcel/runtime-js/lib/runtime-75278bc260c1e4f5.js","src/Component/todoitem.tsx","src/Component/button.tsx","src/Component/modal-add.tsx","src/Component/custom-select.tsx","src/Component/modal-edit.tsx","src/util/types.d.ts"],"sourcesContent":["import React, { useEffect } from \"react\"\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport { remove, cloneDeep, trim, findIndex, orderBy } from \"lodash\"\r\nimport Button from \"../Component/Button\"\r\nimport Layout from \"../Layout\"\r\nimport emptyImage from \"../images/empty-item.png\"\r\nimport TodoItem from \"../Component/todoitem\"\r\nimport Modal from \"../Component/modal-add\"\r\nimport ModalEdit from \"../Component/modal-edit\"\r\nimport CustomSelect from \"../Component/custom-select\"\r\n\r\nimport ModalDelete from \"../Component/modal-delete\"\r\nimport UseModal from \"../util/UseModal\"\r\n\r\nimport { TodoDataTambah, ToDoItem, TodoDataEdit, SortOrder } from \"../util/types.d\"\r\n\r\ninterface DataTodo {\r\n    id: number,\r\n    title: string,\r\n    created_at: string,\r\n    todo_items: ToDoItem[]\r\n}\r\n\r\nexport default function Activity() {\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const params = useParams()\r\n\r\n    const ModalEditRef = React.useRef();\r\n\r\n    const [data, setData] = React.useState<DataTodo>({id:-1, title:'', created_at:'', todo_items:[]});\r\n\r\n    const [isShowDeleteModal, setShowDeleteModal] = UseModal()\r\n\r\n    const [isShowEditModal, setShowEditModal] = UseModal()\r\n\r\n    const [isShowAddModal, setShowAddModal] = UseModal()\r\n\r\n    const [idDelete, setIdDelete] = React.useState<number>(-1)\r\n\r\n    const [titleDelete, setTitleDelete] = React.useState<string>('')\r\n\r\n    const [sortOrder, setSortOrder] = React.useState<SortOrder>(SortOrder.LATEST)\r\n\r\n    const [isEditTitle, setIsEditTitle] = React.useState<boolean>(false)\r\n\r\n    const [activityTitle, setActivityTitle] = React.useState<string>('')\r\n\r\n    // const titleInputRef = React.createRef<HTMLInputElement>()\r\n    const titleInputRef = React.useRef<HTMLInputElement>(null)\r\n\r\n    useEffect(()=> {\r\n        async function getData() \r\n        {\r\n            const response = await fetch('https://todo.api.devcode.gethired.id/activity-groups/'+params.uid)\r\n\r\n            let actualData = await response.json();\r\n\r\n            setActivityTitle(actualData.title)\r\n\r\n            setData(actualData)\r\n        }\r\n\r\n        getData()\r\n    },[])\r\n\r\n    const OnBeforeTambah = () => {\r\n        setShowAddModal(true)\r\n    }\r\n\r\n    const OnTambah = async (jsonData: TodoDataTambah) => {\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                \"activity_group_id\": params.uid, ...jsonData\r\n            })\r\n        };\r\n        const response = await fetch('https://todo.api.devcode.gethired.id/todo-items', requestOptions);\r\n\r\n        const actualData = await response.json();\r\n\r\n        if (!response.ok) {\r\n            // get error message from body or default to response status\r\n            const error = response.status;\r\n            return Promise.reject(error);\r\n        }\r\n\r\n        const newItem = [{\r\n            \"id\": actualData.id,\r\n            \"title\": actualData.title,\r\n            \"activity_group_id\": actualData.activity_group_id,\r\n            \"is_active\": actualData.is_active,\r\n            \"priority\": actualData.priority,\r\n        }].concat(data.todo_items) \r\n\r\n        setData({\r\n            id: data.id,\r\n            title: data.title,\r\n            created_at: data.created_at,\r\n            todo_items: newItem\r\n        }) \r\n\r\n        setShowAddModal(false)\r\n    }\r\n\r\n    const OnBeforeDelete = (id:number, title:string) => {\r\n        setIdDelete(id)\r\n        setTitleDelete(title)\r\n        setShowDeleteModal(true)\r\n    }\r\n\r\n    const OnDeleteConfirm = () => {\r\n        setIdDelete(-1)\r\n        setShowDeleteModal(false)\r\n\r\n        const requestOptions = {\r\n            method: 'DELETE',\r\n        };\r\n        fetch('https://todo.api.devcode.gethired.id/todo-items/'+idDelete, requestOptions)\r\n            .then(()=>{\r\n\r\n                /// Delete it\r\n                var newTodos = cloneDeep(data.todo_items)\r\n\r\n                newTodos = remove(newTodos, (x) => x.id !== idDelete)\r\n\r\n                setData({\r\n                    id: data.id,\r\n                    title: data.title,\r\n                    created_at: data.created_at,\r\n                    todo_items: newTodos\r\n                }) \r\n            })\r\n    }\r\n\r\n    const OnEdit = (param: TodoDataEdit) => {\r\n        ModalEditRef.current?.ResetFields(param)\r\n\r\n        setShowEditModal(true)\r\n    }\r\n\r\n    const OnUpdate = async (param: TodoDataEdit) => {\r\n        if(param.title === '') return\r\n\r\n        const requestOptions = {\r\n            method: 'PATCH',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(param)\r\n        };\r\n        \r\n        const response = await fetch('https://todo.api.devcode.gethired.id/todo-items/'+param.id, requestOptions);\r\n\r\n        const actualData = await response.json();\r\n\r\n        if (!response.ok) {\r\n            // get error message from body or default to response status\r\n            const error = response.status;\r\n            return Promise.reject(error);\r\n        }\r\n\r\n        var todos = cloneDeep(data.todo_items)\r\n\r\n        const idx = findIndex(todos, x => x.id===param.id)\r\n\r\n        todos[idx] = {\r\n            \"id\": actualData.id,\r\n            \"title\": actualData.title,\r\n            \"activity_group_id\": actualData.activity_group_id,\r\n            \"is_active\": actualData.is_active,\r\n            \"priority\": actualData.priority,\r\n        }\r\n\r\n        setData({\r\n            id: data.id,\r\n            title: data.title,\r\n            created_at: data.created_at,\r\n            todo_items: todos\r\n        }) \r\n\r\n        setShowEditModal(false)\r\n    }\r\n\r\n    const OnSetSortOrder = (param:string) => {\r\n        if(param === sortOrder) return\r\n\r\n        const order = param as SortOrder\r\n\r\n        setSortOrder(order)\r\n\r\n        var todos = cloneDeep(data.todo_items)\r\n\r\n        switch(order)\r\n        {\r\n            case SortOrder.LATEST:\r\n                todos = orderBy(todos, ['id'], ['desc'])\r\n                break;\r\n            case SortOrder.OLDEST:\r\n                todos = orderBy(todos, ['id'], ['asc'])\r\n                break;\r\n            case SortOrder.AZ:\r\n                todos = orderBy(todos, [todos => todos.title.toLowerCase()], ['asc'])\r\n                break;\r\n            case SortOrder.ZA:\r\n                todos = orderBy(todos, [todos => todos.title.toLowerCase()], ['desc'])\r\n                break;\r\n            case SortOrder.UNFINISHED:\r\n                todos = orderBy(todos, ['id'], ['desc'])\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n\r\n        setData({\r\n            id: data.id,\r\n            title: data.title,\r\n            created_at: data.created_at,\r\n            todo_items: todos\r\n        }) \r\n    }\r\n\r\n    const ToggleEditTitle = () => {\r\n        setIsEditTitle(true)\r\n        setTimeout(()=>{\r\n            titleInputRef.current?.focus()\r\n        }, 100) /// Delay to let React render it first\r\n    }\r\n\r\n    const OnBlurEditActivityTitle = async (e) => {\r\n        const title = trim(e.target.value)\r\n\r\n        setIsEditTitle(false)\r\n\r\n        const requestOptions = {\r\n            method: 'PATCH',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                title: title\r\n            })\r\n        };\r\n        \r\n        await fetch('https://todo.api.devcode.gethired.id/activity-groups/'+data.id, requestOptions)\r\n            .then(()=>{\r\n                console.log(title)\r\n            })\r\n    }\r\n    \r\n\r\nreturn(\r\n<>\r\n    <ModalEdit ref={ModalEditRef} isShow={isShowEditModal} setShow={setShowEditModal} dataCy=\"modal-add\" OnSubmit={OnUpdate} />\r\n    <Modal isShow={isShowAddModal} setShow={setShowAddModal} dataCy=\"modal-add\" OnSubmit={OnTambah} />\r\n    <ModalDelete \r\n        OnDeleteConfirm={OnDeleteConfirm} \r\n        isShow={isShowDeleteModal} setShow={setShowDeleteModal}  text=\"Apakah anda yakin menghapus List Item\" itemname={titleDelete} />\r\n    <Layout>\r\n        <div className=\"todo-header\">\r\n            <button className='btn btn-light btn-simple todo-back-button' data-cy='todo-back-button'\r\n                onClick={()=>navigate(-1)}>\r\n                <span className='icon-back' style={{width: '32px',height: '32px'}}></span>\r\n            </button>\r\n            {\r\n                isEditTitle ? \r\n                <input ref={titleInputRef} className=\"activity-title-edit\" value={activityTitle} \r\n                    onChange={(e)=>setActivityTitle(e.target.value)}\r\n                    onBlur={OnBlurEditActivityTitle} />\r\n                :\r\n                <h1 className=\"todo-title\" data-cy=\"todo-title\"\r\n                    onClick={ToggleEditTitle} >{activityTitle}</h1>\r\n            }\r\n            <button className='btn btn-light btn-simple todo-title-edit-button' data-cy='todo-title-edit-button'\r\n                onClick={ToggleEditTitle}>\r\n                <span className='icon-edit'></span>\r\n            </button>\r\n            {/* <Button className=\"ml-auto btn-alternative btn-circle activity-sort-button\" text='' dataCy='activity-sort-button' icon='icon-sort' /> */}\r\n            <CustomSelect\r\n                value={sortOrder}\r\n                className='ml-auto'\r\n                type=\"button\"\r\n                onChange={OnSetSortOrder}\r\n                options={[\r\n                    {\r\n                        key: 'latest',\r\n                        value: <><span className='icon-sort-newest wh-18 mr-15'/>Terbaru</>,\r\n                        dataCy: 'sort-latest'\r\n                    },\r\n                    {\r\n                        key: 'oldest',\r\n                        value: <><span className='icon-sort-oldest wh-18 mr-15'/>Terlama</>,\r\n                        dataCy: 'sort-oldest'\r\n                    },\r\n                    {\r\n                        key: 'az',\r\n                        value: <><span className='icon-sort-az wh-18 mr-15'/>A-Z</>,\r\n                        dataCy: 'sort-az'\r\n                    },\r\n                    {\r\n                        key: 'za',\r\n                        value: <><span className='icon-sort-za wh-18 mr-15'/>Z-A</>,\r\n                        dataCy: 'sort-za'\r\n                    },\r\n                    {\r\n                        key: 'unfinished',\r\n                        value: <><span className='icon-sort-unfinished wh-18 mr-15'/>Belum Selesai</>,\r\n                        dataCy: 'sort-unfinished'\r\n                    }\r\n                ]}\r\n            />\r\n            <Button className=\"btn-primary\" text='Tambah' dataCy='todo-add-button' onClick={OnBeforeTambah} icon=\"icon-plus\" />\r\n        </div>\r\n        <div className=\"activity-content\">\r\n            {\r\n                data.todo_items.length == 0 ?\r\n                <div className=\"todo-empty-state\" data-cy=\"todo-empty-state\">\r\n                    <img src={emptyImage} alt=\"empty\" />    \r\n                </div>\r\n                :\r\n                data.todo_items.map(x => \r\n                    (SortOrder.UNFINISHED === sortOrder && x.is_active === 0) ?\r\n                    ''\r\n                    :\r\n                    <TodoItem \r\n                        key={x.id} \r\n                        uid={x.id}\r\n                        title={x.title}\r\n                        is_active={x.is_active}\r\n                        priority={x.priority}\r\n                        toggleEdit={OnEdit}\r\n                        toggleUpdate={OnUpdate}\r\n                        OnBeforeDelete={OnBeforeDelete} />\r\n                )\r\n            }\r\n        </div>\r\n    </Layout>\r\n</>\r\n)\r\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9XZxD\")).toString();","import React from 'react'\r\nimport Button from './button'\r\nimport './todoitem.css'\r\n\r\nexport default function TodoItem({uid, title, OnBeforeDelete, priority, is_active, toggleEdit, toggleUpdate}:{uid:number, title:string, OnBeforeDelete:any, priority:string, is_active:number, toggleEdit?:any, toggleUpdate?:any}) {\r\n\r\n    const GetPriorityClass = () => {\r\n        switch (priority) {\r\n            case 'very-high':\r\n                return 'bg-red'\r\n            case 'high':\r\n                return 'bg-yellow'\r\n            case 'normal':\r\n                return 'bg-green'\r\n            case 'low':\r\n                return 'bg-cyan'\r\n            case 'very-low':\r\n                return 'bg-purple'\r\n            default:\r\n                return ''\r\n        }\r\n    }\r\n\r\nreturn (\r\n    <div className='todo-item' data-cy='todo-item' >\r\n        <input className='todo-item-checkbox' data-cy='todo-item-checkbox' type='checkbox' checked={is_active==0} \r\n            onChange={(e)=>{\r\n                toggleUpdate({\r\n                    is_active: e.target.checked ? 0 : 1,\r\n                    id: uid,\r\n                    title:title,\r\n                    priority:priority\r\n                })\r\n            }}/>\r\n        <span className={'todo-item-priority-indicator '+GetPriorityClass()} data-cy='todo-item-priority-indicator' />\r\n        <h2 className='todo-item-title' data-cy='todo-item-title'>\r\n        {title}\r\n        </h2>\r\n        <Button className=\"btn-light btn-simple todo-item-edit-button\" text='' dataCy='todo-item-edit-button' icon='icon-edit'\r\n            onClick={() => toggleEdit({\r\n                is_active:is_active,\r\n                id: uid,\r\n                title:title,\r\n                priority:priority\r\n            })} />\r\n        <Button className=\"ml-auto btn-light btn-simple todo-item-delete-button\" text='' dataCy='todo-item-delete-button' icon='icon-delete'\r\n            onClick={()=>OnBeforeDelete(uid, title)} />\r\n    </div>\r\n)\r\n}","import React from 'react'\r\n\r\ninterface ButtonProp {\r\n    className:string, \r\n    text:string, \r\n    dataCy:string, \r\n    icon?:string,\r\n    onClick?:any,\r\n    isDisabled?:boolean\r\n}\r\n\r\nexport default function Button({className, text, dataCy, icon, onClick, isDisabled}:ButtonProp) {\r\n    \r\nreturn (\r\n    <button className={'btn '+className+\" \"+(isDisabled ? 'disabled' : ''  )} data-cy={dataCy} onClick={onClick} disabled={isDisabled}>\r\n        {icon ? <span className={icon}></span> : ''}\r\n        {text}\r\n    </button>\r\n)\r\n}","import React from \"react\"\r\nimport Button from \"./Button\"\r\nimport \"./modal-add.css\"\r\nimport CustomSelect from \"./custom-select\"\r\nimport { trim, trimStart } from \"lodash\"\r\n\r\nimport {TodoDataTambah} from \"../util/types\"\r\n\r\nexport default function Modal({className, dataCy, isShow, setShow, OnSubmit}:{className?:string, dataCy:string, isShow:boolean, setShow?:any, OnSubmit:any}) {\r\n\r\nconst [isDisabled, setIsDisabled] = React.useState<boolean>(true)\r\n\r\nconst [formdata, setFormdata] = React.useState<TodoDataTambah>({\r\n    title:'',\r\n    priority:'very-high'\r\n})\r\n\r\nconst OnTitleFieldChange = (e:any) => {\r\n    const newvalue = trimStart(e.target.value)\r\n    e.target.value = newvalue\r\n    if(trim(newvalue) ==='') setIsDisabled(true)\r\n    else setIsDisabled(false)\r\n\r\n    setFormdata({\r\n        title: newvalue,\r\n        priority: formdata.priority\r\n    })\r\n}\r\n\r\nconst OnPriorityFieldChange = (value:string) => {\r\n    setFormdata({\r\n        title: formdata.title,\r\n        priority: value\r\n    })\r\n}\r\n\r\nconst OnSimpanConfirm = () => {\r\n    OnSubmit({\r\n        title: trim(formdata.title),\r\n        priority: formdata.priority\r\n    })\r\n\r\n    /// Reset Value\r\n    setFormdata({\r\n        title:'',\r\n        priority:'very-high'\r\n    })\r\n    setIsDisabled(true)\r\n}\r\n\r\nreturn (\r\n    <div className={\"modal-container \"+className+\" \"+(isShow ? 'active' : '')}>\r\n        <div className={'modal modal-add'} data-cy={dataCy}>\r\n            <div className=\"modal-header\">\r\n                <h2 className=\"modal-add-title\" data-cy=\"modal-add-title\">Tambah List Item</h2>\r\n                <Button className=\"ml-auto btn-light btn-simple modal-add-close-button\" text='' dataCy='modal-add-close-button' icon='icon-close' \r\n                    onClick={()=>setShow(false)}/>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n                <div className=\"input-group\">\r\n                    <label className=\"input-group-label\"\r\n                        data-cy=\"modal-add-name-item\">NAMA LIST ITEM</label>\r\n                    <input className=\"input-group-input\" type=\"text\"  \r\n                        placeholder=\"Tambahkan nama Activity\"\r\n                        style={{width: 'calc(100% - 36px)'}}\r\n                        value={formdata.title}\r\n                        onChange={OnTitleFieldChange}\r\n                        data-cy=\"modal-add-name-input\"\r\n                         />\r\n                </div>\r\n                <div className=\"input-group\">\r\n                    <label className=\"input-group-label\"\r\n                        data-cy=\"modal-add-priority-title\" >PRIORITY</label>\r\n                    <CustomSelect \r\n                        value={formdata.priority}\r\n                        onChange={OnPriorityFieldChange}\r\n                        dataCy=\"modal-add-priority-dropdown\"\r\n                        type=\"select\"\r\n                        widthSize={205}\r\n                        options={[\r\n                            {\r\n                                key: 'very-high',\r\n                                value: <><span data-cy=\"modal-add-priority-item\" className='priority-indicator bg-red'/>Very High</>\r\n                            },\r\n                            {\r\n                                key: 'high',\r\n                                value: <><span data-cy=\"modal-add-priority-item\" className='priority-indicator bg-yellow'/>High</>\r\n                            },\r\n                            {\r\n                                key: 'normal',\r\n                                value: <><span data-cy=\"modal-add-priority-item\" className='priority-indicator bg-green'/>Medium</>\r\n                            },\r\n                            {\r\n                                key: 'low',\r\n                                value: <><span data-cy=\"modal-add-priority-item\" className='priority-indicator bg-cyan'/>Low</>\r\n                            },\r\n                            {\r\n                                key: 'very-low',\r\n                                value: <><span data-cy=\"modal-add-priority-item\" className='priority-indicator bg-purple'/>Very Low</>\r\n                            }\r\n                        ]}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n                {/* <Button className=\"\" text='Simpan' dataCy='modal-add-save-button'\r\n                    onClick={OnSimpanConfirm} \r\n                    isDisabled={isDisabled}\r\n                /> */}\r\n                <button className={\"btn ml-auto btn-primary modal-add-save-button\"} \r\n                    data-cy={'modal-add-save-button'} \r\n                    onClick={OnSimpanConfirm} disabled={isDisabled}>\r\n                    Simpan\r\n                </button>\r\n            </div>\r\n        </div>    \r\n    </div>\r\n)\r\n}","import { findIndex } from \"lodash\"\r\nimport React, { useEffect } from \"react\"\r\nimport Button from \"./Button\"\r\nimport \"./custom-select.css\"\r\n\r\ntype KeyValueOption = {key:string, value:React.ReactNode, dataCy?:string }\r\n\r\ninterface SelectInterface {\r\n    type: string,\r\n    widthSize?: number,\r\n    className?:string,\r\n    value?:string,\r\n    onChange?:any,\r\n    dataCy?:string,\r\n    options: [KeyValueOption, ...KeyValueOption[]]\r\n}\r\n\r\nexport default function CustomSelect(props:SelectInterface) {\r\n\r\nconst ref = React.createRef<HTMLSelectElement>();\r\n\r\nconst [focus, setFocus] = React.useState<boolean>(false)\r\n\r\nconst [selected, setSelected] = React.useState<number>(0)\r\n\r\nuseEffect(()=>{\r\n    if(!props.value)\r\n    {\r\n        props.value = props.options[selected].key\r\n    }\r\n    else\r\n    {\r\n        const idx = findIndex(props.options, x => x.key == props.value)\r\n        setSelected(idx)\r\n    }\r\n        \r\n},[props.value])\r\n\r\nconst ToggleFocus = () => {\r\n    if(focus) ref.current?.blur()\r\n    else ref.current?.focus()\r\n}\r\n\r\nconst OnSelect = (index:number) => {\r\n    setSelected(index)\r\n    props.onChange(props.options[index].key)\r\n}\r\n\r\nconst _width = props.widthSize ? props.widthSize : 235\r\n\r\nreturn (\r\n<div className={\"custom-select-container type-\"+props.type+\" \"+props.className}>\r\n    {\r\n        props.type === 'button' ?\r\n        <Button className=\"ml-auto btn-alternative btn-circle activity-sort-button\" text='' dataCy='todo-sort-button' icon='icon-sort'\r\n            onClick={ToggleFocus}\r\n        />\r\n        :\r\n        <div className=\"custom-select-toggle\" style={{width: _width}} \r\n            onClick={ToggleFocus}\r\n            data-cy={props.dataCy}\r\n            >\r\n            {props.options[selected].value}\r\n        </div>\r\n    }\r\n    <select ref={ref} className=\"custom-select\" \r\n        onFocus={()=>setFocus(true)}\r\n        onBlur={()=>{\r\n            setTimeout(() => {\r\n                setFocus(false)\r\n            }, 100);\r\n        }}\r\n        >\r\n        {props.options.map(x => <option key={x.key} value={x.key}></option>)}\r\n    </select>\r\n    <ul className={\"option-container \"\r\n                    + (focus ? 'active ':'')\r\n                }\r\n        style={{width:_width}}\r\n        >\r\n        {props.options.map((x, i) => \r\n            <li className={(props.value==x.key) ? 'selected' : ''} \r\n                onClick={()=>OnSelect(i)}\r\n                key={x.key}\r\n                data-cy={x.dataCy}\r\n                >{x.value}</li>\r\n        )}\r\n    </ul>\r\n</div>)\r\n}","import React from \"react\"\r\nimport Button from \"./Button\"\r\nimport \"./modal-edit.css\"\r\nimport CustomSelect from \"./custom-select\"\r\nimport { trim, trimStart } from \"lodash\"\r\n\r\nimport {TodoDataTambah, TodoDataEdit} from \"../util/types\"\r\n\r\nconst ModalEdit = React.forwardRef( ({className, dataCy, isShow, setShow, OnSubmit}:{className?:string, dataCy:string, isShow:boolean, setShow?:any, OnSubmit:any}, ref) => {\r\n\r\nconst [isDisabled, setIsDisabled] = React.useState<boolean>(true)\r\n\r\nconst [formdata, setFormdata] = React.useState<TodoDataEdit>({\r\n    id: -1,\r\n    is_active: 1,\r\n    title:'',\r\n    priority:'very-high'\r\n})\r\n\r\nReact.useImperativeHandle(ref, () => ({\r\n    ResetFields(param:TodoDataEdit){\r\n        setFormdata(param)\r\n        if(param.title !== '') setIsDisabled(false)\r\n        else setIsDisabled(true)\r\n    }\r\n}))\r\n\r\nconst OnTitleFieldChange = (e:any) => {\r\n    const newvalue = trimStart(e.target.value)\r\n    e.target.value = newvalue\r\n    if(trim(newvalue)==='') setIsDisabled(true)\r\n    else setIsDisabled(false)\r\n\r\n    setFormdata({\r\n        id: formdata.id,\r\n        is_active: formdata.is_active,\r\n        title: newvalue,\r\n        priority: formdata.priority\r\n    })\r\n}\r\n\r\nconst OnPriorityFieldChange = (value:string) => {\r\n    setFormdata({\r\n        id: formdata.id,\r\n        is_active: formdata.is_active,\r\n        title: formdata.title,\r\n        priority: value\r\n    })\r\n}\r\n\r\nconst OnSimpanConfirm = () => {\r\n    OnSubmit({\r\n        id: formdata.id,\r\n        title: trim(formdata.title),\r\n        priority: formdata.priority\r\n    })\r\n\r\n    /// Reset Value\r\n    setFormdata({\r\n        id: formdata.id,\r\n        is_active: formdata.is_active,\r\n        title:'',\r\n        priority:'very-high'\r\n    })\r\n}\r\n\r\nreturn (\r\n    <div className={\"modal-container \"+className+\" \"+(isShow ? 'active' : '')}>\r\n        <div className={'modal modal-add'} data-cy-old={dataCy}>\r\n            <div className=\"modal-header\">\r\n                <h2 className=\"modal-add-title\" data-cy-old=\"modal-add-title\">Edit Item</h2>\r\n                <Button className=\"ml-auto btn-light btn-simple modal-add-close-button\" text='' \r\n                    dataCy='modal-edit-close-button' \r\n                    icon='icon-close' \r\n                    onClick={()=>setShow(false)}/>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n                <div className=\"input-group\">\r\n                    <label className=\"input-group-label\"\r\n                        data-cy-old=\"modal-add-name-item\">NAMA LIST ITEM</label>\r\n                    <input className=\"input-group-input\" type=\"text\"  \r\n                        placeholder=\"Tambahkan nama Activity\"\r\n                        style={{width: 'calc(100% - 36px)'}}\r\n                        value={formdata.title}\r\n                        onChange={OnTitleFieldChange}\r\n                        data-cy-old=\"modal-add-name-input\"\r\n                         />\r\n                </div>\r\n                <div className=\"input-group\">\r\n                    <label className=\"input-group-label\"\r\n                        data-cy-old=\"modal-add-priority-title\">PRIORITY</label>\r\n                    <CustomSelect \r\n                        value={formdata.priority}\r\n                        onChange={OnPriorityFieldChange}\r\n                        // dataCy=\"modal-add-priority-dropdown\"\r\n                        type=\"select\"\r\n                        widthSize={205}\r\n                        options={[\r\n                            {\r\n                                key: 'very-high',\r\n                                value: <><span className='priority-indicator bg-red'/>Very High</>\r\n                            },\r\n                            {\r\n                                key: 'high',\r\n                                value: <><span className='priority-indicator bg-yellow'/>High</>\r\n                            },\r\n                            {\r\n                                key: 'normal',\r\n                                value: <><span className='priority-indicator bg-green'/>Medium</>\r\n                            },\r\n                            {\r\n                                key: 'low',\r\n                                value: <><span className='priority-indicator bg-cyan'/>Low</>\r\n                            },\r\n                            {\r\n                                key: 'very-low',\r\n                                value: <><span className='priority-indicator bg-purple'/>Very Low</>\r\n                            }\r\n                        ]}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n                <Button className=\"ml-auto btn-primary modal-add-save-button\" text='Simpan' \r\n                    dataCy='modal-edit-save-button'\r\n                    onClick={OnSimpanConfirm} \r\n                    isDisabled={isDisabled}\r\n                />\r\n            </div>\r\n        </div>    \r\n    </div>\r\n)\r\n})\r\n\r\nexport default ModalEdit","export type TodoDataTambah = {\r\n    title:string,\r\n    priority:string\r\n}\r\n\r\nexport type TodoDataEdit = {\r\n    id: number,\r\n    title:string,\r\n    is_active: number,\r\n    priority:string\r\n}\r\n\r\nexport type ToDoItem = {\r\n    id: number,\r\n    title: string,\r\n    activity_group_id: number,\r\n    is_active: number,\r\n    priority: string\r\n}\r\n\r\nexport enum SortOrder {\r\n    LATEST = 'latest',\r\n    OLDEST = 'oldest',\r\n    AZ = 'az',\r\n    ZA = 'za',\r\n    UNFINISHED = 'unfinished',\r\n  }"],"names":["$ayMG0","parcelRequire","$7478fb404793b718$export$2e2bcd8739ae039","navigate","$lzNIT","useNavigate","params","$aphAM","useParams","ModalEditRef","$parcel$interopDefault","$acw62","useRef","data","setData","useState","id","title","created_at","todo_items","isShowDeleteModal","setShowDeleteModal","$8PsrX","default","isShowEditModal","setShowEditModal","isShowAddModal","setShowAddModal","idDelete","setIdDelete","titleDelete","setTitleDelete","sortOrder","setSortOrder","$7iNiK","SortOrder","LATEST","isEditTitle","setIsEditTitle","activityTitle","setActivityTitle","titleInputRef","useEffect","async","response","fetch","uid","actualData","json","getData","OnBeforeDelete","OnEdit","param","current","ResetFields","OnUpdate","requestOptions","method","headers","body","JSON","stringify","ok","error","status","Promise","reject","todos","$f1q41","cloneDeep","findIndex","x","activity_group_id","is_active","priority","ToggleEditTitle","setTimeout","focus","jsxs","Fragment","jsx","$6DBKY","ref","isShow","setShow","dataCy","OnSubmit","$fhPm2","jsonData","newItem","concat","$b2je2","OnDeleteConfirm","then","newTodos","remove","text","itemname","$d1VrR","className","onClick","style","width","height","value","onChange","e","target","onBlur","trim","console","log","$8K2Oq","type","order","orderBy","OLDEST","AZ","toLowerCase","ZA","UNFINISHED","options","key","$k5Zdv","icon","length","src","$3pDgf","alt","map","$8uLeK","toggleEdit","toggleUpdate","module","exports","URL","resolve","import","meta","url","toString","$70c1f1dd39d2e764$export$2e2bcd8739ae039","checked","GetPriorityClass","$11bCd","$ff0cf2de3c7412dc$export$2e2bcd8739ae039","isDisabled","disabled","$bc97e38958e2dc79$export$2e2bcd8739ae039","setIsDisabled","formdata","setFormdata","placeholder","newvalue","trimStart","widthSize","$c2dcf707fe706a5e$export$2e2bcd8739ae039","props","createRef","setFocus","selected","setSelected","idx","ToggleFocus","blur","_width","onFocus","i","OnSelect","index","$599f529af380428f$export$2e2bcd8739ae039","forwardRef","useImperativeHandle","$76dee234012e4339$export$7ae723045d45777a"],"version":3,"file":"Activity.10a1f0e6.js.map"}